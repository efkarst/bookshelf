"use strict";function moveScroller(){var e=$("#scroller").width(),t=function(){var t="lg"===StackExchange.responsive.currentRange(),n=$(window).scrollTop(),o=$("#scroller-anchor").offset().top,i=$("#scroller"),r=StackExchange.scrollPadding.getPaddingTop(),a=r+"px";t&&n>o?i.height()>$(window).height()?i.css({"position":"fixed","top":"","bottom":"0","width":e,"z-index":3}):i.css({"position":"fixed","top":a,"bottom":"","width":e,"z-index":3}):i.css({"position":"relative","top":"","bottom":"","width":""})};StackExchange.responsive.addBreakpointListener(function(){var n=$("#scroller"),o=n[0].style.width,i=n[0].style.position;n.css({"position":"relative","width":""}),e=n.width(),n.css({"position":i,"width":o}),t()}),$(window).scroll(t).resize(t),t()}function sanitizeAndSplitTags(e,t,n,o){e=$.trim(e).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 ");for(var i=e.split(/[\s|,;]+/),r=[],a=0;a<i.length;a++){var s=i[a];o||(s=s.toLowerCase()),StackExchange.settings.tags.allowNonAsciiTags||(s=StackExchange.helpers.noDiacritics(s)),s=s.replace(/_/g,"-");var c=(o?"[^A-Za-z0-9.#+":"[^a-z0-9.#+")+(t?"*":"")+(StackExchange.settings.tags.allowNonAsciiTags?"0-9,A-Z,_,a-z,ª,µ,º,À-Ö,Ø-ö,ø-ˁ,ˆ-ˑ,ˠ-ˤ,ˬ,ˮ,Ͱ-ʹ,Ͷ-ͷ,ͺ-ͽ,Ά,Έ-Ί,Ό,Ύ-Ρ,Σ-ϵ,Ϸ-ҁ,Ҋ-ԣ,Ա-Ֆ,ՙ,ա-և,א-ת,װ-ײ,ء-ي,٠-٩,ٮ-ٯ,ٱ-ۓ,ە,ۥ-ۦ,ۮ-ۼ,ۿ,ܐ,ܒ-ܯ,ݍ-ޥ,ޱ,߀-ߪ,ߴ-ߵ,ߺ,ऄ-ह,ऽ,ॐ,क़-ॡ,०-९,ॱ-ॲ,ॻ-ॿ,অ-ঌ,এ-ঐ,ও-ন,প-র,ল,শ-হ,ঽ,ৎ,ড়-ঢ়,য়-ৡ,০-ৱ,ਅ-ਊ,ਏ-ਐ,ਓ-ਨ,ਪ-ਰ,ਲ-ਲ਼,ਵ-ਸ਼,ਸ-ਹ,ਖ਼-ੜ,ਫ਼,੦-੯,ੲ-ੴ,અ-ઍ,એ-ઑ,ઓ-ન,પ-ર,લ-ળ,વ-હ,ઽ,ૐ,ૠ-ૡ,૦-૯,ଅ-ଌ,ଏ-ଐ,ଓ-ନ,ପ-ର,ଲ-ଳ,ଵ-ହ,ଽ,ଡ଼-ଢ଼,ୟ-ୡ,୦-୯,ୱ,ஃ,அ-ஊ,எ-ஐ,ஒ-க,ங-ச,ஜ,ஞ-ட,ண-த,ந-ப,ம-ஹ,ௐ,௦-௯,అ-ఌ,ఎ-ఐ,ఒ-న,ప-ళ,వ-హ,ఽ,ౘ-ౙ,ౠ-ౡ,౦-౯,ಅ-ಌ,ಎ-ಐ,ಒ-ನ,ಪ-ಳ,ವ-ಹ,ಽ,ೞ,ೠ-ೡ,೦-೯,അ-ഌ,എ-ഐ,ഒ-ന,പ-ഹ,ഽ,ൠ-ൡ,൦-൯,ൺ-ൿ,අ-ඖ,ක-න,ඳ-ර,ල,ව-ෆ,ก-ะ,า-ำ,เ-ๆ,๐-๙,ກ-ຂ,ຄ,ງ-ຈ,ຊ,ຍ,ດ-ທ,ນ-ຟ,ມ-ຣ,ລ,ວ,ສ-ຫ,ອ-ະ,າ-ຳ,ຽ,ເ-ໄ,ໆ,໐-໙,ໜ-ໝ,ༀ,༠-༩,ཀ-ཇ,ཉ-ཬ,ྈ-ྋ,က-ဪ,ဿ-၉,ၐ-ၕ,ၚ-ၝ,ၡ,ၥ-ၦ,ၮ-ၰ,ၵ-ႁ,ႎ,႐-႙,Ⴀ-Ⴥ,ა-ჺ,ჼ,ᄀ-ᅙ,ᅟ-ᆢ,ᆨ-ᇹ,ሀ-ቈ,ቊ-ቍ,ቐ-ቖ,ቘ,ቚ-ቝ,በ-ኈ,ኊ-ኍ,ነ-ኰ,ኲ-ኵ,ኸ-ኾ,ዀ,ዂ-ዅ,ወ-ዖ,ዘ-ጐ,ጒ-ጕ,ጘ-ፚ,ᎀ-ᎏ,Ꭰ-Ᏼ,ᐁ-ᙬ,ᙯ-ᙶ,ᚁ-ᚚ,ᚠ-ᛪ,ᜀ-ᜌ,ᜎ-ᜑ,ᜠ-ᜱ,ᝀ-ᝑ,ᝠ-ᝬ,ᝮ-ᝰ,ក-ឳ,ៗ,ៜ,០-៩,᠐-᠙,ᠠ-ᡷ,ᢀ-ᢨ,ᢪ,ᤀ-ᤜ,᥆-ᥭ,ᥰ-ᥴ,ᦀ-ᦩ,ᧁ-ᧇ,᧐-᧙,ᨀ-ᨖ,ᬅ-ᬳ,ᭅ-ᭋ,᭐-᭙,ᮃ-ᮠ,ᮮ-᮹,ᰀ-ᰣ,᱀-᱉,ᱍ-ᱽ,ᴀ-ᶿ,Ḁ-ἕ,Ἐ-Ἕ,ἠ-ὅ,Ὀ-Ὅ,ὐ-ὗ,Ὑ,Ὓ,Ὕ,Ὗ-ώ,ᾀ-ᾴ,ᾶ-ᾼ,ι,ῂ-ῄ,ῆ-ῌ,ῐ-ΐ,ῖ-Ί,ῠ-Ῥ,ῲ-ῴ,ῶ-ῼ,‿-⁀,⁔,ⁱ,ⁿ,ₐ-ₔ,ℂ,ℇ,ℊ-ℓ,ℕ,ℙ-ℝ,ℤ,Ω,ℨ,K-ℭ,ℯ-ℹ,ℼ-ℿ,ⅅ-ⅉ,ⅎ,Ↄ-ↄ,Ⰰ-Ⱞ,ⰰ-ⱞ,Ⱡ-Ɐ,ⱱ-ⱽ,Ⲁ-ⳤ,ⴀ-ⴥ,ⴰ-ⵥ,ⵯ,ⶀ-ⶖ,ⶠ-ⶦ,ⶨ-ⶮ,ⶰ-ⶶ,ⶸ-ⶾ,ⷀ-ⷆ,ⷈ-ⷎ,ⷐ-ⷖ,ⷘ-ⷞ,ⸯ,々-〆,〱-〵,〻-〼,ぁ-ゖ,ゝ-ゟ,ァ-ヺ,ー-ヿ,ㄅ-ㄭ,ㄱ-ㆎ,ㆠ-ㆷ,ㇰ-ㇿ,㐀-䶵,一-鿃,ꀀ-ꒌ,ꔀ-ꘌ,ꘐ-ꘫ,Ꙁ-ꙟ,Ꙣ-ꙮ,ꙿ-ꚗ,ꜗ-ꜟ,Ꜣ-ꞈ,Ꞌ-ꞌ,ꟻ-ꠁ,ꠃ-ꠅ,ꠇ-ꠊ,ꠌ-ꠢ,ꡀ-ꡳ,ꢂ-ꢳ,꣐-꣙,꤀-ꤥ,ꤰ-ꥆ,ꨀ-ꨨ,ꩀ-ꩂ,ꩄ-ꩋ,꩐-꩙,가-힣,豈-鶴,侮-頻,並-龎,ﬀ-ﬆ,ﬓ-ﬗ,יִ,ײַ-ﬨ,שׁ-זּ,טּ-לּ,מּ,נּ-סּ,ףּ-פּ,צּ-ﮱ,ﯓ-ﴽ,ﵐ-ﶏ,ﶒ-ﷇ,ﷰ-ﷻ,︳-︴,﹍-﹏,ﹰ-ﹴ,ﹶ-ﻼ,０-９,Ａ-Ｚ,＿,ａ-ｚ,ｦ-ﾾ,ￂ-ￇ,ￊ-ￏ,ￒ-ￗ,ￚ-ￜ":"")+"-]";s=s.replace(new RegExp(c,"g"),""),s=s.replace(/^[#+-]+/,""),s=s.replace(/[.-]+$/,"");var l=["or","and","not"],u=-1!==l.indexOf(s),d=-1!==r.indexOf(s);s.length>0&&(!u&&!d||n)&&r.push(s)}return r}function initTagRenderer(e,t,n){window.tagRenderer||(n=n||{"tags":[],"id":""},window.tagRendererRaw=function(o,i,r,a){i=i||"",r=r||"a";var s="",c=a?"s-tag":"post-tag";i||(e&&$.inArray(o,e)>-1?s=a?"s-tag__required":"required-tag":t&&$.inArray(o,t)>-1&&(s=a?"s-tag__moderator":"moderator-tag"));var l=$("<"+r+">").addClass(c).addClass(s).addClass($.inArray(o,n.tags)>-1?"channel"+n.id+"-tag":"").text(o);return"a"===r.toLowerCase()&&l.attr({"rel":"tag","href":i+"/questions/tagged/"+encodeURIComponent(o),"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":o})}),l.outerHTML()},window.tagRenderer=function(e,t,n,o){return $(tagRendererRaw(e,t,n,o))})}function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}function initFadingHelpText(){var e={"wmd-input":"#how-to-format","tagnames":"#how-to-tag","tag-editor":"#how-to-tag","title":"#how-to-title","wmd-input-42":"#how-to-format","edit-comment":"#how-to-comment"},t=$(".wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42, .edit-comment"),n=function(t){var n=$(t);return n.parent().hasClass("tag-editor")&&!n.closest(".js-mentions-input").length?e["tag-editor"]:n.hasClass("wmd-input")?e["wmd-input"]:n.hasClass("edit-comment")?e["edit-comment"]:e[$(t).attr("id")]};$(".js-help-pointer").click(function(e){var t=null;$(e.target).hasClass("js-dismiss-pointer")||$(e.target).closest(".js-dismiss-pointer").length?$($(this).data("focus-on-dismiss")).focus():t=$($(this).attr("data-for"));var n=this;return setTimeout(function(){$(n).remove(),$("html,body").animate({"scrollTop":t.offset().top-20})}),!1}),$(".js-back-to-edit-field").click(function(){var e=$($(this).attr("href")),t=$(this).attr("data-focus"),n=t?$(t):e;return $("html,body").animate({"scrollTop":e.offset().top-40},function(){n.focus()}),!1}),t.focus(function(){var e=n(this);t.each(function(){var t=n(this);t!=e&&$(t).hide()});var o=$(e);o.is(":visible")||showFadingHelpText(o),$(".js-help-pointer").addClass("d-none");var i=$(".js-help-pointer[data-for='"+e+"']");i.removeClass("d-none"),i.data("focus-on-dismiss",this)})}!function(e){function t(){}function n(e,t){if(r)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var o=t.prototype,i=[],r=i.indexOf?!0:!1;o.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},o.addListener=function(e,t){var o=this.getListeners(e);return-1===n(t,o)&&o.push(t),this},o.removeListener=function(e,t){var o=this.getListeners(e),i=n(t,o);return-1!==i&&(o.splice(i,1),0===o.length&&(this._events[e]=null)),this},o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var o,i,r=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(o in t)t.hasOwnProperty(o)&&(i=t[o])&&("function"==typeof i?r.call(this,o,i):a.call(this,o,i));else for(o=n.length;o--;)r.call(this,t,n[o]);return this},o.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},o.emitEvent=function(e,t){for(var n=this.getListeners(e),o=n.length;o--;)n[o].apply(null,t||i)===!0&&this.removeListener(e,n[o]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this);var StackExchange=StackExchange||{};StackExchange.realtime=function(){function e(){return{"creationfailed":null,"onopen":null,"onmessage":null,"onclose":null,"onerror":null}}function t(t){function n(e,t){tt&&tt.contentWindow&&tt.contentWindow.postMessage({"cmd":e,"data":t},l)}function o(e,t){if(!e.data||!e.data.evt)return s("WARNING: Unknown data received from worker: "+JSON.stringify(e)),void 0;switch(e.data.evt){case"tabId":r=e.data.content,s("this tab gets assigned id "+r);break;case"ws-wasopen":i=!0,a=1,!c&&t.open&&t.open(),c=!0;break;case"ws-onopen":i=!0,a=e.data.content,t.open&&t.open(),c=!0;break;case"ws-onclose":i=!1,c=!1,s("socket has closed"),t.close&&t.close();break;case"ws-onerror":i=!1,c=!1,t.error&&t.error();break;case"ws-onmessage":t.message&&t.message(e.data.content);break;case"ws-creationfailed":t.creationfailed&&t.creationfailed(e.data.content);break;case"log":s("worker says: "+e.data.content);break;case"error":s("Web worker failed");break;default:s("WARNING: Unknown message received from worker: "+e.data.evt)}}var i=!1,r=-1,a=null,c=!1,l=StackExchange.options.realtime.workerIframeDomain,u={"close":function(){n("close")},"send":function(e,t){n("send",{"tabId":e,"message":t})},"open":function(e){n("open",{"endpoint":e,"useMozWebsockets":!("WebSocket"in window)})},"detach":function(e){n("detach",e)},"keepalive":function(e){n("keepalive",e)}};return X||(N=window.onunload,X=!0),window.onunload=function(){N&&N(),-1!==r&&(s("detaching from worker..."),u.detach(r),r=-1)},setInterval(function(){-1===r||Y||Q||u.keepalive(r)},1e4),{"on":new e,"isOpen":function(){return i},"readyState":function(){return a},"start":function(){var e=this.on;tt=$("#websocket-worker-iframe")[0],window.onmessage=function(t){"*"===l||t.origin===l?o(t,e):s("WARNING!!! worker iframe origin is not what I expected. Got: "+t.origin+" - Expected: "+l)},tt.contentWindow.postMessage("START",l)},"close":function(){u.close()},"dispose":function(){-1!==r&&u.detach(r),tt=null},"send":function(e){u.send(r,e)},"open":function(){u.open(t)}}}function n(t){function n(){try{return"WebSocket"in window?new WebSocket(t):new MozWebSocket(t)}catch(e){return e.message}}var o;return{"on":new e,"isOpen":function(){return o&&1===o.readyState},"readyState":function(){return o?o.readyState:null},"start":function(){if(!o){var e=this.on,t=n();"string"==typeof t?e.creationfailed&&e.creationfailed(t):(o=t,o.onopen=function(){e.open&&e.open()},o.onclose=function(){e.close&&e.close(),o=null},o.onmessage=function(t){e.message&&e.message(t)},o.onerror=function(){e.error&&e.error(),o=null})}},"close":function(){o&&(o.close(),o=null)},"dispose":function(){this.close()},"send":function(e){o&&o.send(e)},"open":function(){}}}function o(){B&&(B.dispose(),B=null)}function i(e){return!Q&&StackExchange.options.realtime.useWebWorkers&&"undefined"!=typeof SharedWorker?(s("using a shared web worker for web socket connection"),Z=!0,nt||(nt=new t(e))):(s("NOT using a web worker for web socket connection"),Z=!1,new n(e))}function r(e){var t=e.split(","),n=t.length,r=W%n,l=t[r],u=StackExchange.options.realtime.staleDisconnectIntervalInHours;if("WebSocket"in window||"MozWebSocket"in window){if(B)return;if(B=new i(l),null===B)return;B.on.open=function(){if(J||(J=!0),W=0,s("WebSocket opened"),B&&1===B.readyState()){var e="",t=StackExchange.options;if(t){var e="|";t.routeName&&(e+=t.routeName.toString()),e+="|",t.user&&t.user.userId&&(e+=t.user.userId.toString()),e+="|",t.user&&t.user.accountId&&(e+=t.user.accountId.toString()),e+="|",t.user&&t.user.rep&&(e+=t.user.rep.toString()),e=e+"|"+window.location.host+"|",t.serverTime&&(e+=t.serverTime.toString()),e+="|",s("analytic: "+e),B.send(e)}}a(),c(),setInterval(q,6e4),u>0&&setTimeout(U,1e3*u*60*60)},B.on.message=function(t){var n=$.parseJSON(t.data||t);if("realtime-broadcast"===n.action){s("broadcast message - "+n.data);var i=$.parseJSON(n.data).a;"killWebSocket"===i||"restartWebSocket"===i?(s("Applying action: "+i),Y="killWebSocket"===i,Y?o():B.close()):"revertToDirectSocket"===i&&Z&&(Q=!0,s("Direct socket usage forced remotely"),o(),StackExchange.realtime.init(e))}else et.emitEvent(n.action,[n.data])},B.on.close=function(){B=null,s("WebSocket closed"),!Y&&5>W&&G>0&&(W++,G--,s("reconnect attempt:"+W+" max retries:"+G),setTimeout(function(){StackExchange.realtime.init(e)},(new Date).getTime()%50/20*1e3))},B.on.error=function(){s("WebSocket failed"),o()},B.on.creationfailed=function(e){s("Sockets disabled - "+e),o()},B.start(),z.length>0&&B&&B.open()}}function a(){if(null!=B&&B.isOpen())for(var e=0,t=z.length;t>e;e++)s("sending "+z[e]),B.send(z[e])}function s(e){(StackExchange&&StackExchange.options&&StackExchange.options.enableLogging||$&&$.cookie&&$.cookie("devlog"))&&console.log("realtime: "+e)}function c(){et.addListener("hb",function(e){s("heartbeat received; responding"),B.send(e)})}function l(e,t){z.push(e),t=t===!1?!1:!0,t&&a()}function u(e,t){et.removeListener(e,t),p(e)}function d(e,t){et.addListener(e,t),l(e)}function p(e){s("unsubscribing "+e);var t=$.inArray(e,z);-1!=t&&(z.splice(t,1),null!=B&&B.isOpen()&&B.send("-"+e))}function f(e,t){var n=e+"-question-"+t;p(n)}function h(e,t){var n=e+"-question-"+t;l(n),et.addListener(n,function(e){if(!StackExchange.realtime.pauseQuestionNotifications){var t=$.parseJSON(e);if(t.acctid!=StackExchange.options.user.accountId)switch(s(n+" "+e),t.a){case"score":C(t);break;case"comment-add":v(t);break;case"answer-add":O(t);break;case"accept":m(t);break;case"unaccept":m(t,!0);break;case"post-edit":A(t);break;case"post-deleted":g(t)}}})}function g(e){var t=e.aId||e.qId,n=!!e.aId,o=n?$("#answer-"+e.aId):$("#question");o.css("opacity",.1);var i=$('<div class="realtime-post-deleted-notification" />').css({"width":o.outerWidth(),"height":o.outerHeight()});i.insertBefore(o);var r=StackExchange.options.user.canSeeDeletedPosts?"This post has been deleted - click to refresh the page":"This post has been deleted and is no longer viewable",a=$("<p>").text(r).appendTo(i);a.click(function(){window.location.reload(!0)}),$(".popup[data-postid="+t+"]").fadeOutAndRemove()}function m(e,t){$(".js-accepted-answer-indicator").each(function(){var n=!t&&$(this).closest(".js-voting-container").data("post-id")===e.answerid;$(this).toggleClass("d-none",!n)})}function v(e){0==$("#comment-"+e.commentid).length&&StackExchange.comments.realtimeMessage(e.id)}function b(e,t,n,o,i,r,a){var c=e+"-"+t;F=n,K=r,l(c),et.addListener(c,function(e){s("received (active) on "+c);var n=$.parseJSON(e);if(null!=i)for(var r=0;r<i.length;r++)if(-1==$.inArray(i[r],n.tags))return;M(n,o,t),null!=a&&a(n)})}function y(e){l(e+"-qcnt-feed"),et.addListener(e+"-qcnt-feed",function(e){$("div#q-cnt").html(e)}),l(e+"-evc-feed"),et.addListener(e+"-evc-feed",function(e){$("div#evc-cnt").html(e)}),l(e+"-acnt-feed"),et.addListener(e+"-acnt-feed",function(e){$("div#a-cnt").html(e)})}function k(e){var t=e+"-review-dashboard-update";l(t),et.addListener(t,function(e){var t=$.parseJSON(e),n=$('.dashboard-activity[data-review-task="'+t.i+'"]');0==n.find('.dashboard-user[data-user="'+t.u+'"]').length&&(n.find(".dashboard-user:nth-child(6)").remove(),n.css("overflow","hidden"),n.children().css({"left":"-44px"}),n.prepend(t.html).children().animate({"left":0},function(){n.css("overflow","visible")}))})}function w(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-topbar";l(e),et.addListener(e,function(e){StackExchange.topbar.handleRealtimeMessage(e)})}}function x(e){if(null!=StackExchange.options.user.accountId){var t=e+"-"+StackExchange.options.user.userId+"-reputation";l(t),et.addListener(t,function(e){E(e)})}}function S(e){var t=e+"-suggested-edits-count-update";l(t),et.addListener(t,function(){j()})}function C(e){var t=$(".js-voting-container").filter(function(){return $(this).data("post-id")===e.id}).find(".js-vote-count");t.data("value")!==e.score&&(t.data("value",e.score).text(e.score),0===$(":animated").length&&t.fadeTo("fast",.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts())}function E(e){var t=$("#hlinks .reputation-score, .links-container .reputation, .js-header-rep");t.text()!=e.score&&(0==$(":animated").length&&t.fadeTo("fast",.8).fadeTo("fast",1),t.text(e).attr("title",function(e){return"your reputation: "+e.reputation}({"reputation":e})),t.trigger("reputationchange"))}function j(){$.ajax({"type":"POST","url":"/review/suggested-edit-count","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(e){e&&e.count&&T(e.count)}})}function T(e){var t=$(".suggested-edits-count");t.text()!=e&&(0==$(":animated").length&&t.fadeTo("fast",.5).fadeTo("fast",1),t.text(e))}function O(e){if(0==$("#answer-"+e.answerid).length&&(H.push(e.answerid),StackExchange.cardiologist)){if(StackExchange.cardiologist.isHeartBeating()){var t=StackExchange.helpers.DelayedReaction(P,5e3);t.trigger()}else P();StackExchange.cardiologist.notifiedOfNewAnswer()}}function P(){$(".js-new-answer-activity").remove(),$("#answers-header").prepend(ot)}function A(e){var t=$(".question[data-questionid="+e.id+"], .answer[data-answerid="+e.id+"]");if(!(t.find(".js-new-post-activity[data-postid="+e.id+"]").length>0)){var n=$('<div class="new-post-activity bar-sm ta-center mb16 js-new-post-activity" data-postid="'+e.id+'">').append($('<a class="d-block py8" href="#">').text("An edit has been made to this post")),o=0===t.find(".inline-editor").length,i=function(){$(".js-new-post-activity[data-postid="+e.id+"]").remove(),o&&t.off("click",i),0==$("#review-content").length&&$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({"postIdsSemiColonDelimited":e.id}),it(t.find(".postcell, .answercell"),e)),$(document).trigger("refreshEdit",e.id)};o&&t.click(i),n.prependTo(t).find("a").click(function(e){return e.stopPropagation(),i(),!1})}}function I(){$("#tabs").show(),$(".js-new-answer-activity").remove();var e=$("#answers #answers-header"),t=e.find(".answers-subheader h2"),n=parseInt(t.text())+H.length;isNaN(n)&&(n=H.length),t.text(function(e){return 1==e.answerCount?e.answerCount+" Answer":e.answerCount+" Answers"}({"answerCount":n})),$.ajax({"url":"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({"postIdsSemiColonDelimited":H.join(";")})}).done(function(t){var n=$('<div class="dno" />').append(t);n.insertAfter(e).fadeIn(400,function(){n.removeClass("dno"),styleCode(),StackExchange.vote.init($(".question").data("questionid")),n.find(".answer").each(function(){StackExchange.comments.init({"post":$(this)})})})}),StackExchange.question.bindSuggestedEditPopupLinks(),q(),H=[]}function M(e,t,n){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(e.body)||(e.fetch&&$.ajax({"url":"/posts/"+e.id+"/"+n}).done(function(t){e.body=t,V[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid}}),V[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid},$(".js-new-post-activity").remove(),$("#question-mini-list, #questions").prepend(rt),$(".tag-sponsorship").length>0&&$("#question-mini-list, #questions").css("margin-top","0px"),t&&D())}function _(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function D(){var e=[];for(var t in V)V.hasOwnProperty(t)&&e.push(V[t]);for(var n=e.sort(_),o=0;o<n.length;o++){var i=n[o];$("#question-summary-"+i.id).remove(),$(i.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}L(0),null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,F),styleCode(),q(),$(".js-new-post-activity").remove(),V={}}function L(e){var t=document.title.replace(/^\(\d*\*?\) /,"");e>0&&(t="("+e+") "+t),window.setTimeout(function(){$(document).attr("title",t)},200)}function U(){Y=!0,StackExchange.notify.show('Instant updates have been disabled due to inactivity <a href=".">refresh</a> to reconnect',312),B.dispose()}function q(){for(var e=$("span.relativetime, span.relativetime-clean"),t=0;t<e.length;t++)if(e[t].title){var n=R(e[t].title);n&&(e[t].innerHTML=n)}}function R(e){if(null!=e&&20==e.length){e=e.substr(0,10)+"T"+e.substr(11,10);var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3+StackExchange.options.serverTimeOffsetSec,o=Math.floor(n/86400);if(!(isNaN(o)||0>o||o>=31))return 0==o&&(2>n&&"just now"||60>n&&(K?function(e){return 1==e.seconds,e.seconds+"s ago"}({"seconds":Math.floor(n)}):function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":Math.floor(n)}))||120>n&&(K?"1m ago":"1 min ago")||3600>n&&(K?function(e){return 1==e.minutes,e.minutes+"m ago"}({"minutes":Math.floor(n/60)}):function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":Math.floor(n/60)}))||7200>n&&(K?"1h ago":"1 hour ago")||86400>n&&(K?function(e){return 1==e.hours,e.hours+"h ago"}({"hours":Math.floor(n/3600)}):function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":Math.floor(n/3600)})))}}var F,N,B=null,V={},H=[],W=0,z=[],G=10,J=!1,K=!1,Y=!1,Q=!1,Z=!1,X=!1,et=new EventEmitter,tt=null,nt=null,ot=function(){var e=Object.keys(H).length;0==e&&$(".js-new-answer-activity").remove();var t=$('<div class="new-answer-activity ta-center bar-sm mb16 js-new-answer-activity">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" new answer to this question":e.count+" new answers to this question"}({"count":e})));return t.click(function(){StackExchange.realtime.expandAnswers()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandAnswers(),!1}),t},it=function(e,t){return function(n){var o=$(n).filter(".question, .answer"),i=o.find(".postcell, .answercell"),r=e.closest(".question"),a=r.length>0,s=$("h1 a.question-hyperlink"),c=o.data("title"),l=a&&$.trim(s.text())!=c,u=$(".question-status"),d=150,p=function(e,t){return function(){return $.Deferred(function(n){null==t||t()?e.animate({"opacity":0},d).promise().done(function(){n.resolve()}):n.resolve()})}},f=p(s,function(){return l}),h=p(e),g=p(u);if($.when(f(),h(),g()).done(function(){l&&s.text(c).animate({"opacity":1},d);var t=function(e,t){return new $.Deferred(function(n){t.css({"opacity":0}),e.replaceWith(t),t.animate({"opacity":1},d,function(){n.resolve()})})};t(e,i).done(function(){styleCode(),StackExchange.question.bindSuggestedEditPopupLinks()});var o=$(n).find(".question-status:last");o.length?(u.length||(u=$("<div>").addClass("question-status").insertAfter(r)),t(u,o)):a?u.remove():u.animate({"opacity":1},d)}),window.history){var m=l?function(e){return e.pageTitle+" - "+e.siteName}({"pageTitle":c,"siteName":StackExchange.options.site.name}):document.Title;window.history.replaceState(window.history.state,m,"#"+t.id)}}},rt=function(){var e=Object.keys(V).length;L(e);var t=$('<div class="js-new-post-activity bg-black-050 bar-sm ta-center mt8 ml8">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e})));return t.click(function(){StackExchange.realtime.expandActiveQuestions()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandActiveQuestions(),!1}),t};return{"init":r,"log":s,"expandActiveQuestions":D,"expandAnswers":I,"subscribeToActiveQuestions":b,"subscribeToQuestion":h,"unsubscribeToQuestion":f,"pauseQuestionNotifications":!1,"subscribeToReputationNotifications":x,"subscribeToSuggestedEdits":S,"updateRelativeDates":q,"subscribeToReviewDashboard":k,"subscribeToTopBarNotifications":w,"subscribeToCounts":y,"genericSubscribe":d,"genericUnsubscribe":u}}(),StackExchange.anonymous={},!function(e,t,n){"function"==typeof define?define(n):"undefined"!=typeof module?module.exports=n():t[e]=n(t)}("klass",this,function(e){function t(e){return r.call(n(e)?e:function(){},e,1)}function n(e){return typeof e===s}function o(e,t,n){return function(){var o=this.supr;this.supr=n[l][e];var i={}.fabricatedUndefined,r=i;try{r=t.apply(this,arguments)}finally{this.supr=o}return r}}function i(e,t,i){for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r])&&n(i[l][r])&&c.test(t[r])?o(r,t[r],i):t[r])}function r(e,t){function o(){}function a(){this.initialize?this.initialize.apply(this,arguments):(t||u&&s.apply(this,arguments),d.apply(this,arguments))}o[l]=this[l];var s=this,c=new o,u=n(e),d=u?e:this,p=u?{}:e;return a.methods=function(e){return i(c,e,s),a[l]=c,this},a.methods.call(a,p).prototype.constructor=a,a.extend=r,a[l].implement=a.statics=function(e,t){return e="string"==typeof e?function(){var n={};return n[e]=t,n}():e,i(this,e,s),this},a}e=e||this;var a=e.klass,s="function",c=/.*/,l="prototype";return t.noConflict=function(){return e.klass=a,this},t}),StackExchange.topbar=function(){function e(e,t){var n=e.data("cookie");if(n){var o=t($.cookie(n));o&&$.cookie(n,o,{"expires":new Date(e.data("expire-date")),"path":"/"})}}function t(e){StackExchange.options.enableLogging&&console.log("topbar: "+e)}function n(e){for(var t=0;t<_.length;t++){var n=_[t].$button;if(n&&n[0]==e)return!0}return!1}function o(){for(var e=0;e<_.length;e++)_[e].toggle(!1)}function i(e){var n;if(e&&(n=JSON.parse(e))){t("realtime message - "+e);for(var o in n)for(var i=0;i<_.length;i++)if(o==_[i].name){_[i].handleRealtimeMessage(n[o]);break}}}function r(e){if(!r.styleAdded){var t=$("<style>").text('.ac-result:hover, .ac-result[data-selected="true"] {background-color: #F4F8FB;}');$(document.head).append(t),r.styleAdded=!0}var n=e.parent();this.resultsCache={};var o=$('<div class="d-none ps-absolute bg-white ba bc-black-3 btw0 bs-md l0 r0 t100 z-dropdown fs-body1 p0 m0 mt2 wmx100" />');n.append(o),StackExchange.mobile&&e.css("font-size","16px"),this.$searchBox=e,this.$resultsDiv=o,e.on(/Trident/.test(navigator.userAgent)?"textinput":"input",this.suggest.bind(this)),e.on("keydown",this.onKeyDown.bind(this)),$(document).on("click",function(t){t.target!==e.get(0)&&this.hideResults()}.bind(this)),o.on("mousemove",this.selected.bind(null)),o.on("click",".ac-result",this.choose.bind(this))}function a(){var e=$(".js-top-bar"),t=$(".js-search-field"),n=$(".js-search-submit"),o=!1;t.on({"focus":function(){e.addClass("_search-open")},"blur":function(){o?(t.focus(),o=!1):e.removeClass("_search-open")},"keydown":function(e){27==e.keyCode&&t.blur()}}),n.mousedown(function(){o=!0}),$("#search-channel-selector").change(function(){var e=$(this).find("option:selected");if(e&&1==e.length){var t=e.data("url");if(t){var n=!!$("#search").data("action");n?$("#search").data("action",t):$("#search").attr("action",t)}var o=e.data("mixed");void 0===o?$("#search-channel-mixed").attr("disabled","disabled"):$("#search-channel-mixed").removeAttr("disabled").val(o)}}).trigger("change"),$("#search").on("submit",function(e){var t=$(this).data("action");if(t){var n=location.pathname+location.hash.replace(/%20/g,"+"),o=t+"#"+$(this).serialize();return n!==o&&(location.href=o),e.preventDefault(),!1}}),$("input.js-search-autocomplete").each(function(){new r($(this))})}function s(){function e(e){n.toggleClass(i,e),t.toggleClass(r,e)}var t=$(".js-searchbar"),n=$(".js-searchbar-trigger a"),o=$(".js-search-field"),i="topbar-icon-on",r="searchbar__open",a=!0;n.on("mousedown",function(){a=!t.hasClass(r)}).on("click",function(t){t.preventDefault(),a&&(e(!0),o.focus()),a=!0});var s=StackExchange.helpers.DelayedReaction(function(){e(!1)},0);$(".js-searchbar").focusout(s.trigger).focusin(s.cancel)}function c(e){var t=$("html").hasClass("html__unpinned-leftnav");if(arguments.length||(e=!t),t!==!!e){var n,o;e?($("html").addClass("html__unpinned-leftnav"),n="sm md lg",o=""):($("html").removeClass("html__unpinned-leftnav"),n="sm",o="md lg"),$(".js-pinned-left-sidebar").attr("data-is-here-when",o),$(".js-unpinned-left-sidebar").attr("data-is-here-when",n),StackExchange.responsive.forceCheck()}}function l(){function e(){if(i.is(":visible")){var e=i.offset(),t=e.top-a.scrollTop()+StackExchange.scrollPadding.getPaddingTop(),n=Math.max(StackExchange.scrollPadding.getPaddingTopMinimal(),t)+r,s=o.height(),c=n+s-t-i.height();n-=Math.max(0,c),o.css("top",n),i.css("min-height",s+r)}}var t=!1,n=(navigator.userAgent||"").match(/\bEdge\/(\d+)/);if(n&&parseInt(n[1],10)<17&&(t=!0),t||!window.CSS||!CSS.supports||!CSS.supports("(position: sticky) or (position: -webkit-sticky)")){var o=$(".js-sticky-leftnav");if(o.length){t&&o.addClass("left-sidebar__fake-sticky");var i=$(".js-pinned-left-sidebar"),r=parseInt(i.css("padding-top"),10),a=$(window);a.on("scroll",e),StackExchange.responsive.addBreakpointListener(e),e()}}}function u(){var e=$("#js-gdpr-consent-banner"),t=e.find(".js-notice-close");t.click(function(){t.prop("disabled",!0),$.ajax({"method":"POST","url":"/accounts/accept-gdpr-consent-banner","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(t){t&&e.remove()},"complete":function(){t.prop("disabled",!1)}})})}function d(){function e(){function e(){if(c++,c>30)throw StackExchange.debug.log("checkSize ran into an infinite loop"),"checkSize ran into an infinite loop"}var r,a,s=$(window).width(),c=0;do if(e(),r=!1,!(t.length&&(i||s>=t[0][1])&&(t.shift()[0].removeClass("d-none"),r=!0,i))){i=!1,a=!1;for(var l=n.find("[data-remove-order]:visible");l.length&&o();){e();var u,d=null;l.each(function(){var e=parseInt($(this).attr("data-remove-order"),10);(!d||u>e)&&(d=$(this),u=e)}),d.addClass("d-none"),l=l.not(d),t.unshift([d,s+1]),a=!0}}while(r&&!a)}var t=[],n=$(".js-secondary-topbar-links");if(n.length){n.addClass("the-js-is-handling-responsiveness");var o;o=/Trident/.test(navigator.userAgent)?function(){var e=n.find(".-item:visible:last");return e.offset().left+e.width()>$(window).width()}:function(){return n.position().left+n.width()>n.offsetParent().width()};var i=!1,r=StackExchange.helpers.DelayedReaction(e,100);StackExchange.responsive.addBreakpointListener(function(e,t){$(window)["sm"===e?"on":"off"]("resize",r.trigger),("sm"===e||"sm"===t)&&r.trigger()}),"sm"===StackExchange.responsive.currentRange()&&($(window).on("resize",r.trigger),e()),M=function(){i=!0,e()}}}var p=klass({"name":"","url":"","cssClass":"","button":null,"$dialog":null,"$loadingPlaceholder":null,"$preloadedDialog":null,"alignment":null,"hasRead":!1}).statics({"$corral":$(".js-topbar-dialog-corral")}).methods({"isLoading":function(){return null!=this.$loadingPlaceholder},"isLoaded":function(){return null!=this.$dialog},"isVisible":function(){var e=this.$dialog||this.$loadingPlaceholder;return null!=e&&e.is(":visible")},"toggle":function(e,t){if("boolean"!=typeof e)throw new Error("showOrHide is a required parameter");if(!e){if(this.isLoading())return this.showOrHide(!1),void 0;if(!this.isLoaded())return}if(this.isLoaded()||this.isLoading()?(e||t||!this.hasRead||this.markAsRead(),this.showOrHide(e)):this.$preloadedDialog?this.loadChildContent():this.loadDialog(),e)for(var n=0;n<_.length;n++)this.button!=_[n]&&_[n].toggle(!1,t)},"showOrHide":function(e){e?(this._bound_pdub||(this._bound_pdub=this.positionDialogUnderButton.bind(this)),this.positionDialogUnderButton(),StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(this._bound_pdub)):StackExchange.responsive&&this._bound_pdub&&StackExchange.responsive.removeBreakpointListener(this._bound_pdub);var t=this.$dialog||this.$loadingPlaceholder;t&&t.toggle(e),e&&this.$dialog&&(this.hasRead=!0)},"loadChildContent":function(){var e=this.$preloadedDialog.find(".child-content");if(this.$dialog=this.$preloadedDialog,this.showOrHide(!0),this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(e);var t=this;this.fetchUrl().done(function(n){e.html(n),t.afterLoad()})}},"loadDialog":function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder().appendTo(p.$corral),this.showOrHide(!0);var e=this;this.fetchUrl().done(function(t){e.$dialog=$(t).appendTo(p.$corral),e.afterLoad();var n=e.$loadingPlaceholder.is(":visible");e.showOrHide(n)}).always(function(){e.$loadingPlaceholder.remove(),e.$loadingPlaceholder=null})}},"afterLoad":function(){this.$dialog.find(".js-close-button").click(function(){StackExchange.topbar.hideAll()}),StackExchange.gps.bindTrackClicks(this.$dialog)},"getLoadingPlaceholder":function(){var e=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),t=this.cssClass+(StackExchange.options.user.isAnonymousNetworkWide?" anon":""),n=['<div class="topbar-dialog ',t,' dno">','<div class="header">',e,"</div>",'<div class="modal-content"/>',"</div>"];return $(n.join(""))},"positionDialogUnderButton":function(){var e=this.alignment||"right",t=this.button.$button.outerHeight(),n=this.$dialog||this.$loadingPlaceholder,o=n.parent();for(["top","left","right","max-width"].forEach(function(e){n[0].style.removeProperty(e)});o.not("body").length&&"static"===o.css("position");)o=o.parent();o=o.length?o:$("body");var i,r=this.button.$button.offset().left-o.offset().left;"right"===e&&(r=o.outerWidth()-r-this.button.$button.outerWidth(),i=o.offset().left+o.outerWidth()-r);var a={"top":t};StackExchange.responsive&&"sm"===StackExchange.responsive.currentRange()||(a[e]=r,i&&(a.maxWidth=i)),(this.$dialog||this.$loadingPlaceholder).css(a)},"fetchUrl":function(){t("fetching "+this.url);var e=$.ajax({"type":"GET","url":this.url,"dataType":"html"});return e},"markAsRead":function(){this.button.markAsRead(),this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},"handleRealtimeMessage":function(){this.clearLoadedDialog()},"clearLoadedDialog":function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)}}),f=klass({"name":"","selector":"","dialog":null,"$button":null,"onClass":"","unreadCountPrefix":"","queuedUnreadCount":0,"showsOnMouseOver":!1}).methods({"initialize":function(){this.dialog.name=name,this.dialog.button=this,D.push(this.dialog);var e=this;this.$button=$(this.selector),this.$button.click(function(){return e.toggle(),!1}),this.showsOnMouseOver&&this.$button.mouseover(function(){e.showOnMouseOver()
}),this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},"toggle":function(e,t){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),this.$button.toggleClass(this.onClass,e),this.dialog.toggle(e,t)},"showOnMouseOver":function(){for(var e=!1,t=0;t<_.length;t++){var n=_[t];if(n!=this&&n.showsOnMouseOver&&n.isOn()){e=!0;break}}e&&this.toggle(!0,!0)},"isOn":function(){return this.$button.hasClass(this.onClass)},"markAsRead":function(){this.$button.find(".unread-count,.js-unread-count").fadeOut();var e=this.$button.data("unread-class");e&&this.$button.removeClass(e),this.dequeuePendingUnreadCount()},"dequeuePendingUnreadCount":function(){this.queuedUnreadCount&&(this.setUnreadCount(this.queuedUnreadCount),this.queuedUnreadCount=0,this.dialog.clearLoadedDialog())},"setUnreadCount":function(e,t){var n=t!==!1;if(void 0===e);else if(0>=e)this.queuedUnreadCount=0,this.isOn()||this.markAsRead();else if(e>0)if(this.isOn())this.queuedUnreadCount=e;else{var o=this.$button.find(".unread-count,.js-unread-count");o.text(this.unreadCountPrefix+e).fadeIn(),n&&this.addUnreadClass(),this.dialog.clearLoadedDialog()}},"addUnreadClass":function(){var e=this.$button.data("unread-class");e&&this.$button.addClass(e)},"handleRealtimeMessage":function(){}}),h=p.extend({"url":"/topbar/site-switcher/site-list","cssClass":"siteSwitcher-dialog","$searchItems":null,"$pinnedSiteSearchItems":null,"isPreloaded":!0,"$preloadedDialog":p.$corral.find(".siteSwitcher-dialog")}).methods({"afterLoad":function(){this.$dialog.find("#js-site-filter-txt").typeWatch({"highlight":!1,"wait":250,"captureLength":-1,"callback":$.proxy(this.filterSites,this)}),this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{"title":$(".site-icon",this).attr("title").toLowerCase(),"description":$(".site-desc",this).text().toLowerCase(),"hostname":$("a",this).first().attr("href"),"li":this}});var e=this.$dialog;this.$dialog.find("#js-site-filter-txt").focus(function(){var t=e.offset().top+e.height(),n=e.find(".other-sites li:nth-child(2)"),o=n.offset().top+n.height();o>t&&e.animate({"scrollTop":e.scrollTop()+o-t},750)}),StackExchange.options.user.isAnonymous&&!StackExchange.options.user.isAnonymousOnThisSite||!$(".pinned-site-editor-container").length||($(".js-found-sites").css({"width":$("#js-site-search-txt").outerWidth()}),$(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({"highlight":!1,"wait":100,"captureLength":-1,"callback":$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({"forceListRefresh":$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",".remove-pinned-site-link",function(){return $(this).parent().remove(),$("#save-pinned-sites-btn").enable(),$("#reset-pinned-sites").show(),!1}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find("#reset-pinned-sites").click($.proxy(this.resetPinnedSites,this))),this.supr()},"showOrHide":function(e){this.supr(e)},"pinSite":function(){$("#pin-site-btn").disable();var e=$("#js-site-search-txt").val(),t=$.grep(this.$pinnedSiteSearchItems,function(t){return t.sitename===e});if(!t.length)return $("#pin-site-btn").enable(),void 0;var n=t[0],o=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();if(o.indexOf(n.siteid)>-1)return $("#pin-site-btn").enable(),void 0;var i=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/pin-site","data":{"siteId":n.siteid},"dataType":"html"}).done(function(e){var t=$(e);t.hide(),$(".pinned-site-list").append(t),t.fadeIn("slow"),$("#js-site-search-txt").val(""),$("#save-pinned-sites-btn").enable(),i.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again"),$("#pin-site-btn").enable()})},"savePinnedSites":function(){var e=$(".pinned-site-list li .pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray(),t=!$("#reset-pinned-sites").is(":visible")||!e.length;this.toggleSiteListResetLink(!t);var n=$("#reset-pinned-sites").siblings("input[name=fkey]").val();return $.ajax({"type":"POST","url":"/topbar/site-switcher/save-pinned-sites","data":{"siteIds":t?[]:e,"fkey":n||StackExchange.options.user.fkey},"dataType":"html","traditional":!0}).done($.proxy(function(e){$(".my-sites").html(e),this.cancelSiteListEdits(!1),$(".pinned-site-list").data("custom-list",!t),StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")}),!1},"resetPinnedSites":function(){var e=this;return $.ajax({"type":"GET","url":"/topbar/site-switcher/default-active-sites","dataType":"html"}).done(function(t){$(".pinned-site-list").html(t),$("#save-pinned-sites-btn").enable(),e.toggleSiteListResetLink(!1)}).error(function(){$("#reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")}),!1},"doSearch":function(e,t,n){var o;t=t.toLowerCase();var i=[];return $.each(e,function(e,n){var o={"index":e,"li":n.li,"item":n},r=n.title.indexOf(t);n.title==t?o.priority=1:0==r?o.priority=2:r>-1?o.priority=3:n.description.indexOf(t)>-1?o.priority=4:n.hostname.indexOf(t)>-1&&(o.priority=5),o.priority&&i.push(o)}),o=i.sort(function(e,t){return e.priority-t.priority||e.index-t.index}),n&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{"term":t,"numresults":i.length},!1)}),o},"_findSitesToPin":function(e){var t=$(".js-found-sites"),n=this.$pinnedSiteSearchItems;if(t.empty(),""===e)return t.hide(),$("#pin-site-btn").disable(),void 0;if(n=this.doSearch(n,e,!1),n.length){t.show(),$("#pin-site-btn").enable();var o=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();$.each(n,function(e,n){var i=$('<li class="pinned-site-candidate">'+n.item.sitename+"</li>");o.indexOf(n.item.siteid)>-1?i.addClass("already-pinned-site"):i.click(function(){var e=$(this).text();return $("#js-site-search-txt").val(e),$(".js-found-sites").hide(),!1}),i.appendTo(t)})}},"findSitesToPin":function(e){if(this.$pinnedSiteSearchItems)return this._findSitesToPin(e),void 0;var t=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/all-pinnable-sites","dataType":"json"}).done(function(n){t.$pinnedSiteSearchItems=n,t._findSitesToPin(e)})},"filterSites":function(e){var t=$(".js-other-sites"),n=this.$searchItems;t.empty(),""!=e&&(n=this.doSearch(n,e,!0)),t.append(n.map(function(e){return this&&this.li||e.li}))},"editPinnedSites":function(){$(".siteSwitcher-dialog .header").not("#your-communities-header").css("opacity",.2),$(".siteSwitcher-dialog .modal-content").not("#your-communities-section").css("opacity",.2),$(".my-sites").hide(),$(".pinned-site-editor-container").show(),$("#edit-pinned-sites").hide(),$("#cancel-pinned-sites").show();var e=$(".pinned-site-list");if(""===e.html().trim()){var t=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();e.append('<li style="text-align:center;">'+t+"</li>"),$.ajax({"type":"GET","url":"/topbar/site-switcher/current-pinned-sites","dataType":"html"}).done(function(t){e.html(t)}).fail(function(){e.showErrorMessage("Something bad happened; please try again")}).always(function(){e.find(".ajax-loader").remove()})}this.toggleSiteListResetLink("true"===e.data("custom-list").toString().toLowerCase());var n=$(".sortable"),o=this;return n.data("isSortable")||StackExchange.loadJqueryUi().done(function(){n.sortable({"axis":"y","update":function(){$("#save-pinned-sites-btn").enable(),o.toggleSiteListResetLink(!0)}}).disableSelection().data("isSortable",!0)}),!1},"toggleSiteListResetLink":function(e){$("#reset-pinned-sites").toggle(e)},"cancelSiteListEdits":function(e){return $(".header").not("#your-communities-header").css("opacity",1),$(".modal-content").not("#your-communities-section").css("opacity",1),$(".my-sites").show(),$("#edit-pinned-sites").show(),$(".pinned-site-editor-container").hide(),$("#cancel-pinned-sites").hide(),$("#save-pinned-sites-btn").disable(),e&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable()),!1}}),g=f.extend({"name":"SiteSwitcher","selector":".js-site-switcher-button","dialog":new h,"showsOnMouseOver":!1,"onClass":"icon-site-switcher-on"}),m=p.extend({"cssClass":"feature-notice-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-feature-notice-dialog").appendTo(p.$corral);var e=this.button,t=e.$button;this.$dialog.find(".js-close-button").click(function(){return e.mark(4),t.hide(),e.toggle(!1),M(),!1}),this.$dialog.find(".js-cta-button").click(function(){return e.didClickCTA=!0,e.mark(2),!0}),this.showOrHide(!0)}}),v=f.extend({"name":"FeatureNotice","selector":".-feature-notice","dialog":new m}).methods({"initialize":function(){f.prototype.initialize.apply(this,arguments);var t=this.$button;e(t,function(e){return e?"!"==e.substring(0,1)?"!"+(1+parseInt(e.substring(1))):null:"!1"}),t.data("autopopup")&&this.toggle(!0,!1,!0)},"mark":function(t){e(this.$button,function(e){if(e){var n=e.split(";");if(2==n.length&&!isNaN(n[0])&&!isNaN(n[1]))return(n[0]|t)+";"+n[1]}return t+";"+Date.now()})},"markAsRead":function(){this.didClickCTA&&f.prototype.markAsRead.apply(this,arguments)},"toggle":function(e,t,n){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),n=!!n,f.prototype.toggle.apply(this,arguments);{var o=this.$button;this.dialog.$dialog}e&&(this.mark(1),n||this.mark(8),o.hasClass("js-sample")&&StackExchange.using("gps",function(){StackExchange.gps.track("new_feature.show",{"campaign":o.data("campaign"),"location":o.data("location"),"auto_popup":n})}))}}),b=p.extend({"url":"/topbar/inbox","cssClass":"inbox-dialog"}),y=f.extend({"name":"Inbox","selector":".js-inbox-button","dialog":new b,"showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){this.setUnreadCount(e.UnreadInboxCount)}}),k=p.extend({"url":"/topbar/achievements","cssClass":"achievements-dialog"}).methods({"afterLoad":function(){this.alignRep(),this.bindDateGroupToggles(),this.displayUtcTime(),this.bindGpsTracker(),this.supr()},"alignRep":function(){var e=this.$dialog.find(".js-items .js-faux-column"),t=0;e.filter(".js-rep-change").each(function(){var e=$.trim($(this).text()).length;e>t&&(t=e)}),t>0&&e.width(6*(t+1))},"bindDateGroupToggles":function(){this.$dialog.find(".js-date-group-toggle").click(function(){var e=$(this),t=e.closest(".js-date-group"),n=t.find(".js-items"),o=t.find(".rep-site-container");e.find(".date-group-toggle").toggleClass("toggle-hidden"),n.add(o).fadeToggle("fast")}),this.$dialog.find(".rep-site-container").on("click",function(e){e.stopImmediatePropagation()})},"displayUtcTime":function(){var e=this.$dialog,t=function(){var t=new Date;t.setTime(t.getTime()+1e3*StackExchange.options.serverTimeOffsetSec);var n=t.getUTCHours(),o=t.getUTCMinutes();10>n&&(n="0"+n),10>o&&(o="0"+o),e.find(".js-utc-time").text(n+":"+o)};t(),setInterval(t,6e4)},"bindGpsTracker":function(){var e=$("#js-gps-container.js-empty-achiev");e.find("a:first").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:6 })"),e.find("a:last").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:7 })"),StackExchange.gps.bindTrackClicks(e)}}),w=f.extend({"name":"Achievements","selector":".js-achievements-button","dialog":new k,"unreadCountPrefix":"+","showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){var t=e.UnreadNonRepCount>0,n=0===(e.UnreadRepCount||0),o=n&&t;o?this.addUnreadClass():this.setUnreadCount(e.UnreadRepCount,t)}}),x=p.extend({"cssClass":"help-dialog"}).methods({"loadDialog":function(){this.$dialog=$(".js-help-dialog").appendTo(p.$corral),this.showOrHide(!0)}}),S=f.extend({"name":"Help","selector":".js-help-button","dialog":new x}),C=p.extend({"cssClass":"network-logo-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-network-logo-dialog").appendTo(p.$corral),this.showOrHide(!0);var e=this.button;this.$dialog.find(".js-close-button").click(function(){return e.toggle(!1),!1})}}),E=f.extend({"name":"NetworkLogo","selector":".js-network-logo","dialog":new C}),j=p.extend({"url":"/topbar/review","cssClass":"review-dialog"}),T=f.extend({"name":"Review","selector":".js-review-button","dialog":new j}),O=p.extend({"url":"/topbar/mod-inbox","cssClass":"modInbox-dialog"}).methods({}),P=f.extend({"name":"ModInbox","selector":".js-mod-inbox-button","dialog":new O}),A=p.extend({"cssClass":"js-leftnav-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-leftnav-dialog"),this.showOrHide(!0);var e=this;StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(function(t,n){$("html").hasClass("html__unpinned-leftnav")||"sm"===n&&e.button.toggle(!1)})}}),I=f.extend({"name":"LeftNav","selector":".js-left-sidebar-toggle","dialog":new A});r.prototype={"query":function(e){return 0===arguments.length?this.$searchBox.val().trim():(this.$searchBox.val(e),void 0)},"hasResults":function(){return this.$resultsDiv[0].childElementCount>0},"hideResults":function(){this.showResults("")},"showResults":function(e){this.$resultsDiv.html(e).toggleClass("d-none",0===$.trim(e).length)},"suggest":function(){var e=this,t=e.query();if(""===t)return e.hideResults(),void 0;var n=e.resultsCache[t];if(void 0!==n)e.showResults(n);else{var o=new URL("/search/ac?q="+encodeURIComponent(t),location.href);$.get(o.href).done(function(n){e.resultsCache[t]=n,e.showResults(n)}).fail(function(e,t,n){StackExchange.debug.log("Autocomplete Error: "+n.toString())})}},"selected":function(e){if(0===arguments.length)return this.$resultsDiv.find("[data-selected]");if(e){if(e=$(e),!e.hasClass("ac-result"))return;e.siblings().removeAttr("data-selected"),e.attr("data-selected","true"),e.length>0&&this.query(e.attr("title"))}else this.$resultsDiv.children().removeAttr("data-selected")},"selectNext":function(){if(this.hasResults()){var e=this.selected();e.length>0?this.selected(e.next()):this.$resultsDiv.children().first().attr("data-selected","true")}},"selectPrev":function(){if(this.hasResults()){var e=this.selected();this.selected(e.prev())}},"onKeyDown":function(e){switch(e.key){case"ArrowDown":this.hasResults()?this.selectNext():this.query().length>0&&this.suggest(),e.preventDefault();break;case"ArrowUp":this.hasResults()&&this.selectPrev(),e.preventDefault();break;case"Enter":var t=this.selected().attr("data-question-id");this.selected()&&t&&(e.preventDefault(),location.href="/q/"+t);break;case"Escape":this.hideResults()}},"choose":function(e){e.stopPropagation();var t=$(e.target).closest(".ac-result"),n=t.attr("data-question-id");n?location.href="/q/"+n:(this.query(t.text()),this.hideResults(),this.$searchBox.focus().closes("form").find(".js-search-submit").click())}};var M=function(){},_=[],D=[];return{"init":function(e){e=e||{},window.devicePixelRatio>=1.5&&$(".js-avatar-me").attr("src",function(e,t){return t.replace("?s=24","?s=48")}),_.push(new g),_.push(new E),$(".js-left-sidebar-toggle").length&&_.push(new I),StackExchange.settings.userMessaging&&StackExchange.settings.userMessaging.showNewFeatureNotice&&_.push(new v),_.push(new y),_.push(new w),_.push(new S),_.push(new T),StackExchange.options.user.isModerator&&_.push(new P),$(document).click(function(e){n(e.target)||$.contains(p.$corral[0],e.target)||o()});var t=document.body.style;"justifyContent"in t||"WebkitJustifyContent"in t||$(".top-bar *:visible").css({"display":"inline-block","white-space":"nowrap","vertical-align":"middle"}).not(".-logo, .-logo *, svg, .-badges *").css("width","auto"),a(),s(),l(),u(),e.observeSize&&d()},"hideAll":o,"handleRealtimeMessage":i,"toggleUnpinnedLeftNav":c}}(),StackExchange.notify=function(){function e(e,t){var n=$("#dismissed-messages");n.val(n.val()+"~"+e+(t?" "+t:"")+"~")}function t(e,t){var n=$("#dismissed-messages").val();return n?new RegExp("~"+e+(t?" "+t:"")+"~").test(n):!1}function n(e,t,n){var o=parseInt($("body").css("margin-top").match(/\d+/)),i=t*o/e;n?$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":i+"px"},"fast","linear"):$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").css("marginTop",i+"px")}var o=0,i=-1,r="m",a=function(t,r){var a=$("#notify-"+t+(r?"-"+r:""));a.length&&(t==i?c():t>i&&$.post("/messages/mark-as-read",{"messagetypeid":t,"id":r?r:null}),e(t,r),o--,a.fadeOut("fast",function(){n(o+1,o,!0),a.remove(),0===$("#notify-container div").length&&$("#notify-container").hide()}))},s=function(e){if(o++,t(e.messageTypeId,e.id))return!1;var n="";e.messageTypeId&&(n=' id="notify-'+e.messageTypeId+(e.id?"-"+e.id:"")+'"');var i="<div"+n+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+e.text+"</span>";if(e.showProfile){var r=encodeURIComponent("/users/"+e.userId+"?tab=badges&sort=recent");i+=" "+function(e){return'See your <a href="'+e.url+'">profile</a>.'}({"url":"/messages/mark-as-read?messagetypeid="+e.messageTypeId+"&returnurl="+r})}i+="</div>";var s=$(i);return e.cssClass&&s.addClass(e.cssClass),s.find(".notify-close").click(function(){e.close&&e.close(),a(e.messageTypeId,e.id)}),$("#notify-container").append(s),$("#notify-container").show(),!0},c=function(e){$.cookie(r,e?e:"0",{"expires":90,"path":"/"})},l=function(){$("#notify-container div").fadeIn("slow")},u=function(){$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":"2.5em"},"fast","linear")},d=function(e,t){var n=$('<div class="link-more">').append($("<a>").text(function(e){return 1==e.numNotifications?"view "+e.numNotifications+" more notification":"view "+e.numNotifications+" more notifications"}({"numNotifications":e})));$("#notify-container").append(n),n.click(function(){n.detach();for(var e=0;e<t.length;e++)s(t[e]);l()})};return{"showMessages":function(e,t){for(var i=0,r=o,a=t?2:e.length,c=0;a>c&&c<e.length;c++)s(e[c])&&i++;if(n(r,i,!1),l(),t&&i<e.length){var u=e.slice(a);d(e.length-i,u)}},"show":function(e,t,n){u(),s({"text":e,"messageTypeId":t,"cssClass":n}),l()},"close":a,"getMessageText":function(e){return $("#notify-"+e+" .notify-text").text()}}}();var styleCode=function(){function e(e){var t=$("#prettify-lang").text();return""!=t?(e.addClass(t),!0):!1}return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),StackExchange.ifUsing("snippets",function(){StackExchange.snippets.redraw&&StackExchange.snippets.redraw()});var t=!1;if($("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),t=!0),$(this).hasClass("prettyprint")||e($(this))&&($(this).addClass("prettyprint"),t=!0)}),t){if("undefined"!=typeof jtab)return jtab.renderimplicit(),void 0;StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()})}$(".spoiler").click(function(){$(this).toggleClass("spoiler")})}}();styleCode.updateLangdivDelayed=StackExchange.helpers.DelayedReaction(function(e){var t=$("#prettify-lang");t.length&&$.get("/api/tags/langdiv",{"tags":e.join(" ")}).done(function(e){e?t.replaceWith(e):t.empty(),StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode()})},1500,{"sliding":!0}),StackExchange.helpers.MagicPopup=function(e){function t(t,o){if($.contains(document.documentElement,t)&&(!e.predicate||e.predicate(t))){var r=$("<div />").attr("id",e.id).addClass(e.className).html(o),a=$(".lightbox, .lightbox-panel"),s=a.length>0?+a.css("z-index"):1e3,c=$("<div />").css({"position":"absolute","z-index":s+2,"width":1,"height":1,"top":0,"left":0});e.unclipped||c.css({"overflow":"hidden"}),c.append(r).appendTo("body"),window.MathJax&&MathJax.Hub.Typeset(r[0]);var l=e.showing(t,r),u={"left":l.left};l.hasOwnProperty("bottom")?(u.bottom=l.bottom,u.top="auto"):u.top=0|l.top;var d;e.shown&&(d=function(){e.shown(t,r)}),c.css(u);var p={"height":r.outerHeight()+8,"width":r.outerWidth()+8};e.fade?c.css(p).css("display","none").fadeIn(300,d):c.animate(p,300,d),n=function(){c.stop().remove(),e.removed&&e.removed(t,r),i=null,n=null},i=StackExchange.helpers.DelayedReaction(n,e.dismissDelay||5);var f=c;l.additional&&(f=f.add(l.additional)),f.hover(i.cancel,i.trigger)}}var n,o,i,r,a={},s=StackExchange.helpers.DelayedReaction(function(o,i){if(!r&&o){var s;e.cache&&"c_"+o in a?s=$.Deferred().resolve(a["c_"+o]):(s=$.ajax({"type":"GET","url":o,"dataType":"html"}),e.cache&&s.done(function(e){a["c_"+o]=e})),s.done(function(e){n&&n(),""!=e&&t(i,e)})}},500);$(document).delegate(e.selector,{"mouseenter":function(){return i&&this===o?(i.cancel(),void 0):(o=this,s.trigger(e.getUrl(this),this),r=!1,!1)},"mouseleave":function(){r=!0,s.cancel(),i&&i.trigger()}})},StackExchange.tagmenu=function(){function e(e){return function(n){var o=t(n);return null!==o?o+e:o}}function t(e){var t=$(e);if(t.closest(".mixed-site-content, .post-text, .js-tag-preferences-container").length)return null;var n=t.attr("href"),o=t.data("tag-menu-tagname");if(o&&(o=o.toString()),!(o||n&&"/"===n.charAt(0)))return null;var i=o||t.text();return i.indexOf("*")>-1?null:(t.attr("title",""),"/tags/"+encodeURIComponent(i))}function n(e,t){var n=$(e),o=$(window),i=t.find(".js-source-arrow"),r=$(".left-sidebar:visible"),a=n.offset(),s=n.outerHeight(),c=a.left+n.outerWidth()/2,l=t.outerWidth(),u={"left":c-l/2},d=a.top+s,p=o.scrollTop(),f=p+o.height()+-StackExchange.scrollPadding.getPaddingTop();t.outerHeight()+d>f&&a.top+8-t.outerHeight()>p?(u.bottom=o.height()-a.top-8,i.addClass("-bottom")):(u.top=d,i.addClass("-top"));var h=r.length?r.offset().left+r.outerWidth():0,g=o.width();a.left+l>g&&(u.left=g-l),u.left<h&&(u.left=h);var m=c-(u.left+l/2);return i.css("margin-left",m+"px"),u}var o=!1,i=function(){if(!o&&(o=!0,!StackExchange.options.isMobile)){var t={"selector":".post-tag:not(.user-tag,.no-tag-menu,.invalid-tag,.job-link)","className":"tag-popup","getUrl":e("/popup"),"showing":n,"fade":!0,"unclipped":!0};StackExchange.helpers.MagicPopup(t)}};return{"init":i}}(),StackExchange.usermenu=function(){function e(e,t){var n=$(e),o=n.find("img:last"),s=o.offset(),c=o.height(),l=o.width(),u=Math.max(l,c),d=64*c/u,p=64*l/u,f=t.find("img:first").css({"width":p,"height":d}),h=f.offset();f.css("visibility","hidden"),i=o.clone().css({"position":"absolute","zIndex":1003,"left":s.left,"top":s.top,"width":l,"height":c}).appendTo("body");var g=function(){return f[0].complete?(f.css("visibility","visible"),i.fadeOutAndRemove(),void 0):(setTimeout(g,100),void 0)},m=Math.max(0,s.left-h.left+t.outerWidth()-$(window).width()+8);i.animate({"width":p,"height":d,"top":s.top+h.top,"left":s.left-m},200,g),t.trigger("userhovershowing",e),r=!0;var v=t.find(".um-header-info a:not(.um-user-link), .um-about-me a, .um-links a").length>0;return StackExchange.gps.track("user_popup.show",{"is_own":a,"has_links":v}),setTimeout(function(){r&&StackExchange.gps.track("user_popup.read",{"is_own":a,"has_links":v})},2e3),t.on("click",".um-gravatar a, a.um-user-link",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":0,"is_own":a})}),t.on("click",".um-header-info a:not(.um-user-link)",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":1,"is_own":a})}),t.on("click",".um-about-me a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":2,"is_own":a})}),t.on("click",".um-links a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":3,"is_own":a})}),{"top":s.top,"left":s.left-h.left-m,"additional":i}}function t(e,t){t.trigger("userhovershown")}function n(e){$(e).trigger("userhoverremoved"),i.remove(),r=!1}var o,i,r,a,s=function(){function i(e){var t=$(e),n=t.closest(".user-hover"),o=n.find(".user-details a").attr("href"),i=new RegExp("/users/([^/]+).*$"),r=i.exec(o);return r?(a=StackExchange.options.user.isAnonymous?!1:(0|r[1])>0&&(0|r[1])==(0|StackExchange.options.user.userId),"/users/user-info/"+r[1]):null}o||(o=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({"selector":".user-hover .user-gravatar48, .user-hover .user-gravatar32","predicate":function(e){return!$(e).closest(".mixed-site-content").length},"getUrl":i,"cache":!0,"id":"user-menu","showing":e,"shown":t,"removed":n}))};return{"init":s}}(),StackExchange.chatAd=function(){function e(){var e=$(".question .post-taglist .post-tag");return e.length?e.map(function(e,t){return $(t).text()}).get().join(" "):null}function t(e){return 10>e?"0"+e:e}function n(e){var n=new Date;return n.setTime(1e3*e),[n.getUTCFullYear(),"-",t(n.getUTCMonth()+1),"-",t(n.getUTCDate())," ",t(n.getUTCHours()),":",t(n.getUTCMinutes()),":",t(n.getUTCSeconds()),"Z"].join("")}function o(e){var n=Math.floor((new Date).getTime()/1e3),o=n-e,i=o%60,r=Math.floor(o/60),a=Math.floor(o/3600);if(1>o)return"just now";if(60>o)return function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":i});if(3600>o)return function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":r});if(86400>o)return function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":a});var s=Math.floor(o/86400);if(1==s)return"yesterday";if(2>=s)return function(e){return 1==e.__count?e.__count+" day ago":e.__count+" days ago"}({"__count":s});var c=new Date(1e3*e);return function(e){return e.month+" "+e.date+" at "+e.hours+":"+e.minutes}({"month":v[c.getMonth()],"date":c.getDate(),"hours":c.getHours(),"minutes":t(c.getMinutes())})}function i(e){var t=$("<div />");return t.text(e),t.html().replace('"',"&quot;")}function r(){f&&$.get(f,null,function(e,t,n){d(e,t,n)})}function a(e){if("!"==e.charAt(0)){var t=e.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(t)){var n=/\?/.test(t)?"&":"?";t+=n+"g&s=32"}return t}return"https://www.gravatar.com/avatar/"+e+"?s=23&d=identicon&r=PG"}function s(e){for(var t=$('<div class="ad502-users" />'),n=0;n<e.length&&7>n;n++){var i=e[n],r=i.name;i.lastPost&&(r+=": "+o(i.lastPost));var s=p+"/users/"+i.id,c=$('<a href="'+s+'" />');$("<img height='23' width='23' />").attr("title",r).attr("src",a(i.emailhash)).appendTo(c),t.append(c)}return t}function c(e){return $('<div class="ad502-users"><img src="'+p+"/rooms/users/"+e+'.jpeg" /></div>')}function l(e){var t=e.user,n=e.userid;return n?'<a href="'+p+"/users/"+n+'">'+i(t)+"</a>":i(t)}function u(){f&&(m>=h&&window.setTimeout(r,1e3*h),h+=g)}function d(e){var t=$("#ad502-rooms");if(e.error)return u(),void 0;t.html("");for(var r=e.rooms,a=0;a<r.length&&2>a;a++){var d=r[a],f=p+"/rooms/"+d.id,h=$('<div class="ad502-room"></div>');h.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+i(d.name)+'"><a href="'+f+'">'+i(d.name)+"</a></span></h3>")),d.messages&&d.messages.length>0&&h.append($('<span title="'+n(d.lastPost)+'" class="ad502-last-message">'+o(d.lastPost)+" - "+l(d.messages[0])+"</span><br>")),d.singleImage?h.append(c(d.id)):h.append(s(d.users)),t.append(h)}e.activeUsers>1?$("#h-chat-link").text(function(e){return 1==e.num,e.num+" People Chatting"}({"num":e.activeUsers})):$("#h-chat-link").text("Visit Chat"),$("#h-chat-link").attr("title",function(e){return 1==e.users&&1==e.rooms?e.users+" user active in "+e.rooms+" room the last 60 minutes":1==e.users?e.users+" user active in "+e.rooms+" rooms the last 60 minutes":1==e.rooms?e.users+" users active in "+e.rooms+" room the last 60 minutes":e.users+" users active in "+e.rooms+" rooms the last 60 minutes"}({"users":e.activeUsers,"rooms":e.activeRooms})),u()}var p,f,h=180,g=30,m=480,v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return/^\/questions\/\d+/i.test(window.location.pathname)&&(m=0),{"init":function(t){if(p=t.chatUrl,f=t.reloadUrl,t.tagBased){var n=e();if(!n)return;f&&(f+=(/\?/.test(f)?"&":"?")+"tags="+encodeURIComponent(n))}null===t.preloadData?r():d(t.preloadData,null,null)}}}(),StackExchange.helpers.noDiacritics=function(){var e={"àåáâäãåąɐᵄᶛ":"a","æǣǽᴂᵆ":"ae","çćčĉ":"c","đƍðÐ":"d","èéêëęǝᴈᵌ":"e","ⅎ":"f","ğĝᵷ":"g","ĥɥʮᶣ":"h","ìíîïıᴉᵎ":"i","ĵ":"j","ʞ":"k","ł":"l","ɯɰᵚᶭᴟ":"m","ñń":"n","òóôõöøő":"o","œɶᴔ":"oe","řɹɺɻʴʵ":"r","śşšŝ":"s","ß":"ss","ʇ":"t","Þ":"th","ùúûüŭů":"u","ʌᶺ":"v","ʍ":"w","ýŸÿʎ":"y","żźž":"z"};return function(t){for(var n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp("["+n+"]","g"),e[n]));return t}}(),StackExchange.question=function(){function e(){$(".js-answer-help").removeClass("d-none").attr("aria-hidden","false")}function t(e){e.preventDefault(),$(".js-answer-help").addClass("d-none").attr("aria-hidden","true")}function n(){$("#qualityBanWarningShown").val("true"),$(".js-answer-ban").removeClass("d-none").attr("aria-hidden","false")}function o(e){e.preventDefault(),$(".js-answer-ban").addClass("d-none").attr("aria-hidden","true")}function i(){var e="hashchange.highlightDestination";$(window).off(e).on(e,function(){var e=window.location.href;if(!(e.indexOf("#")<0)){var t=decodeURI(e).match(/#(\d+|comment(\d+)_(\d+))/i);t&&(t[2]?f(t[2],t[3]):p(t[1]))}}).trigger(e)}var r,a,s,c=function(e,t){return e?function(e){return"share link to this question on "+e.socialNetwork}({"socialNetwork":t}):function(e){return"share link to this answer on "+e.socialNetwork}({"socialNetwork":t})},l=function(e,t,n,o,i,r){return $("<a>",{"id":"share-"+o+"-"+e,"class":"share-"+o,"title":c(t,n),"text":i,"data-svc":r})},u=function(e){var t=null!=e;e||(e=$("div.question div.post-menu a.short-link"));var n=e.closest(".post-menu, .help-menu");if(e.hasClass("share-link"))n.find(".close-share-tip").click();else{e.addClass("share-link");var o=e.attr("id").substring("link-post-".length),i=e.closest("div.question").length,r=!e.closest(".col-section").length&&!i,a=StackExchange.options.site.protocol||"http",s=a+"://"+document.location.host+e.attr("href"),c=$("#question-header a.question-hyperlink").text(),u=r?function(e){return"Answer: "+e.title}({"title":c}):c,d=StackExchange.options.user&&StackExchange.options.user.userId&&StackExchange.options.user.userId>0,p='<div class="share-tip" style="display:none">'+(i?d?"share a link to this question (includes your user id)":"share a link to this question":d?"share a link to this answer (includes your user id)":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+s+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(p+=$("<div>",{"id":"share-icons"}).append(l(o,i,"Facebook","fb","share [fb]",2)).append(l(o,i,"Twitter","tw","share [tw]",3)).prop("outerHTML")),StackExchange.gps.track("share.show",{"location":i?1:2}),p+='<a class="close-share-tip" style="float:right">close</a></div>';var f=$(p);if(StackExchange.options.site.enableSocialMediaInSharePopup){var h="2";StackExchange.share.facebook($("#share-fb-"+o,f),s,u,h),StackExchange.share.twitter($("#share-tw-"+o,f),s,u,h),$("#share-icons a",f).click(function(){f.fadeOutAndRemove(),StackExchange.gps.track("share.click",{"location":i?1:2,"service":$(this).data("svc")})})}f.appendTo(n).fadeIn(t?"fast":0).bind("removing",function(){e.removeClass("share-link")}).find(".close-share-tip").click(function(){f.fadeOutAndRemove()}).end().find("input[type=text]").select()}},d=function(e){var t=e?e.closest(".question"):$(".question"),n=t.data("questionid");if(!n)throw new Error("getQuestionId could not find an id");return n},p=function(e){h($(".answer[data-answerid="+e+"]"))},f=function(e,t){var n="#comment-"+e,o=$(n);if(o.length)StackExchange.comments.flashHighlight(o),o[0].scrollIntoView(!0);else{var i=$("#comments-link-"+t);i.length&&StackExchange.comments.loadAll(i).done(function(){StackExchange.comments.flashHighlight(e),($(n)[0]||i.closest(".question, .answer")[0]).scrollIntoView(!0)
})}},h=function(e){var t=s;e.css({"backgroundColor":r}).animate({"backgroundColor":t},2e3,"linear",function(){$(this).css("background-color","")})},g=function(e){e=e||{},$(document).on("click",".post-menu a.short-link",function(t){return t.ctrlKey||t.metaKey?void 0:(u($(this),e.showCitation),!1)}).on("click",".bottom-share-links a",function(){var e=$(this).attr("href"),t=null;e&&e.length&&(e.indexOf("%3fsgp%3d")>=0?t=1:e.indexOf("%3fsfb%3d")>=0?t=2:e.indexOf("%3fstw%3d")>=0?t=3:e.indexOf("%3fsem%3d")>=0&&(t=4)),t&&StackExchange.gps.track("share.click",{"location":3,"service":t},!0)});var t=$(".bottom-notice");t&&t.length&&!t.data("bn")&&t.data("loc")&&(t.data("bn","bn"),t.on("click","a",function(){var e=0,n=t.data("loc"),o=$(this).attr("href");$(this).hasClass("post-tag")?e=1:/\/ask$/.test(o)?e=2:/\/tags$/.test(o)?e=4:/\/unanswered$/.test(o)?e=5:(/\/questions$/.test(o)||/\/questions[?\/]/.test(o))&&(e=3),StackExchange.gps.track("next_action.click",{"type":e,"location":n},!0)}))},m=function(e,t,n){var o,i,r=document.title,a=n.searchRouteOverride||"/search/titles",s=n.onResults||function(){},c=0;e.attr("autocomplete","off");var l=function(l){var u=e.val();if(!(""==u||u==o&&l!==!0||StackExchange.settings.site.newTitleSearchBoxEnabled&&$(".title-float-selected:visible").length>0)){for(var d=u.split(" "),p=0,f=0;f<d.length;f++)$.trim(d[f]).length>0&&p++;var h=(new Date).getTime(),g=(h-c)/1e3;(l===!0||!(3>p||5>g)||e.hasClass("edit-field-overlayed"))&&(c=h,o=u,n.siteName&&(document.title=u?u+" - "+n.siteName:r),t.empty(),StackExchange.helpers.addSpinner(t),i&&i.fadeOutAndRemove(),$.ajax({"url":a,"dataType":"json","data":{"title":u},"success":function(e){e&&e.content&&(t.html(e.content),setTimeout(function(){s(t.find(".answer-link a").attr("target","_blank"))},1))},"complete":function(){StackExchange.helpers.removeSpinner(t)}}))}},u=!1;return t.mouseenter(function(){u=!0}).mouseleave(function(){u=!1}),e.keyup(l).blur(function(){var e=function(){c=0,l()};u?t.one("mouseleave",e):e()}),function(e){c=0,l(e)}},v=function(){try{localStorage.removeItem("nextPrevTrackState"),localStorage.removeItem("nextPrevTrackState2"),localStorage.removeItem("nextPrevState")}catch(e){}},b=function(){var e,t;$(document).on({"mouseenter":function(){var n=$(this),o=n.find(".js-new-contributor-label"),i=n.find(".js-new-contributor-popover");t&&this===e?t.cancel():(i.addClass("is-visible").css({"top":n.height()+4,"left":o.position().left+o.width()/2-n.width()/2,"width":n.width()}),e=this,t=StackExchange.helpers.DelayedReaction(function(){i.removeClass("is-visible"),t=null},100))},"mouseleave":function(){t&&t.trigger()}},".js-new-contributor-indicator")},y=function(){var e=window.location.hash.replace("#","").toLowerCase();if(e){var t=e.split("_"),n=t[0],o=t[1],i=!0;switch(n){case"answer":StackExchange.using("editor",function(){var e=$("#wmd-input");e.is(":visible")?e.focus():window.setTimeout(function(){$(".js-add-another-answer").click()},10)});break;case"addcomment":o&&$("#comments-link-"+o).find(".js-add-link").click();break;case"notify":$(".js-inline-mentions-edit-link").click();break;default:i=!1}i&&window.history.replaceState(null,null,window.location.href.split("#")[0])}};return{"initTitleSearch":m,"showShareTip":u,"getQuestionId":d,"initShareLinks":g,"canViewVoteCounts":function(){return a},"init":function(c){a=c.canViewVoteCounts,StackExchange.question.fullInit?StackExchange.question.fullInit(c):StackExchange.question.bindAnonymousVoteDisclaimers(),StackExchange.comments.init({"autoShowCommentHelp":c.autoShowCommentHelp,"commentHighlightFocus":c.commentHighlightFocus}),g(c),c.showAnswerBanWarning&&$("#wmd-input").one("focus",n),$(".js-answer-ban-close-btn").on("click",o),c.showAnswerHelp&&!c.showAnswerBanWarning&&$("#wmd-input").one("focus",e),$(".js-answer-help-close-btn").on("click",t),c.focusPostEditor&&($("#wmd-input").focus(),$("#post-form")[0].scrollIntoView(!0)),c.showCitation&&$(document).on("click","div .cite-link",function(){var e=$(this).closest(".post-menu");e.find(".close-share-tip").click(),citation.show($(this))}),s=c.backgroundColor,r=c.highlightColor,i(),v(),b(),window.setTimeout(y,0)}}}(),StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(e){var t=$(this),n=t.closest(".js-voting-container"),o=t.hasClass("js-vote-up-btn"),i=t.hasClass("js-vote-down-btn"),r=t.hasClass("js-favorite-btn"),a=t.closest(".answer").length;if(e.preventDefault(),o||i){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Voting isn't available in read-only mode.",{"transient":!0}),void 0;var s=n.data("post-id");if(StackExchange.options.isMobile){StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+s+"?voteTypeId="+(o?2:3));var c="Thank you for your feedback.<br />"+(a?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this answer."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this question."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}));StackExchange.helpers.showMessage(t,c,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}else{var l="anon-vote-popup-"+s;if(n.is(":working")||$("."+l).length)return;n.data("working",!0),$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var u=$('<div class="anon-vote-popup vote-popup popup">'+function(e){return"Sending feedback"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(l).addSpinner();u.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show",{"type":a?2:1})}),$.ajax({"type":"POST","url":"/posts/popup/anon-vote/"+s+"?voteTypeId="+(o?2:3),"dataType":"html","success":function(e){u.html(e)},"error":function(){u.remove()},"complete":function(){n.data("working",!1)}})}}else if(r){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Favoriting isn't available in read-only mode.",{"transient":!0}),void 0;$(".anon-vote-popup").fadeOutAndRemove();var c=a?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this answer."}({"startAnchor":'<a href="/users/login?ssrc=fav_answer&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this question."}({"startAnchor":'<a href="/users/login?ssrc=fav_question&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"});StackExchange.using("gps",function(){StackExchange.gps.track("favorite_popup.show",{})}),StackExchange.helpers.showMessage(t,c,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}}$(".js-vote-down-btn, .js-vote-up-btn, .js-favorite-btn:not(.disabled)").each(function(){var t=$(this);t.data("bound-anonymous")||(t.data("bound-anonymous",!0),t.click(e))}),StackExchange.question.bindFetchAcceptedAnswerDates()},StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".js-accepted-answer-indicator").hover(function(){var e=$(this);if(!e.is(":working")){e.working(!0);var t=e.closest(".answer").data("answerid");if(!t)return e.attr("title",""),void 0;var n="/posts/"+t+"/accepted-answer-date";$.get(n,function(t){e.attr("title",t)})}})},StackExchange.question.convertGridLayoutToTableLayoutIfNecessary=function(e,t){return $("td.postcell",t||document.body).length?StackExchange.question.convertGridLayoutToTableLayout(e):e},StackExchange.question.convertGridLayoutToTableLayout=function(e){if(!/post-layout/.test(e))return e;var t=$("<div/>").html(e),n=!1,o=t.find("> *:first");o.is(".post-layout--left, .post-layout--right, .post-layout--full")&&(t=$("<div/>").append(t.addClass("post-layout")),n=!0);var i=["bounty-notification"];return t.find(".post-layout").each(function(){var e,t=$("<table/>");$(this).find("> *").each(function(){var n,o;if($(this).hasClass("post-layout--left"))n=$("<tr/>").appendTo(t),o=$("<td/>"),e=n;else if($(this).hasClass("post-layout--right"))n=e||$("<tr><td class='vote-cell'/></tr>").appendTo(t),o=$("<td/>"),e=null;else if($(this).hasClass("post-layout--full")){var n=$("<tr/>").appendTo(t);o=$("<td colspan='2'/>"),e=null}o.addClass(this.className).removeClass("post-layout--left post-layout--right post-layout--full").html($(this).html()).appendTo(n),i.forEach(function(e){o.hasClass(e)&&(o.removeClass(e),n.addClass(e))}),$(this).remove()}),$(this).replaceWith(t)}),n&&(t=$("<tr/>").append(t.find("tr:first > td:last"))),t.html()},StackExchange.comments=function(){function e(e,t){this.postId=e,this.jPost=t.closest(".question, .answer, div[id^='post-']"),this.jDiv=t,this.jCommentsList=t.find(".js-comments-list"),this.jCommentsLinkContainer=$("#comments-link-"+e)}function t(e){"string"==typeof e&&(e=$("#comment-"+e)),e.addClass("comment__highlight"),setTimeout(function(){e.removeClass("comment__highlight new_comment")},0)}function n(e){var t=$("#comments-"+e);if(t.length){var n=o(t),i=n.jCommentsLinkContainer,r=(n.jCommentsList,n.remainingCommentsCount());r++,i.data("comments-count",r),i.attr("title","expand to show all comments on this post, or add one of your own"),n.setCommentsMenu(r),i.removeClass("disabled-link"),n.remainingCommentsCount(r),i.show().fadeTo("fast",.7).fadeTo("fast",1)}}function o(t){var n=t.constructor===$?t:$(t),o=n.closest(".question, .answer, div[id^='post-']").find(".js-comments-container"),i=o.attr("id").replace(/^comments-/,"");if(d[i])return d[i];var r=new e(i,o);return d[i]=r,r}function i(e){return 0===window.location.pathname.indexOf("/review")?0:e.closest(".question").length?1:e.closest(".answer").length?2:0}function r(e){var t=$(this),n=o(t),r=0===n.remainingCommentsCount(),s=t.hasClass("disabled-link"),c=n.jCommentsLinkContainer.data("rep");r&&n.jCommentsLinkContainer.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(n.jCommentsLinkContainer,function(e){return 1==e.rep,"Commenting requires an account with "+e.rep+" reputation"}({"rep":c}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}):a(n.jCommentsLinkContainer.attr("id").replace("comments-link-",""),i(t))),r&&n.jCommentsLinkContainer.data("reg")&&StackExchange.helpers.showMessage(t,function(e){return 1==e.rep,"You must have "+e.linkStart+e.rep+" reputation"+e.linkEnd+" to comment"}({"rep":c,"linkStart":"<a href='/help/privileges/comment'>","linkEnd":"</a>"}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}),t.hasClass("js-show-link")&&StackExchange.using("gps",function(){StackExchange.gps.track("comment.show")});var l=!1;if(t.hasClass("js-add-link")){l=!0;var u="other";n.jPost.hasClass("question")?u="question":n.jPost.hasClass("answer")&&(u="answer");var d=r?"all_shown":"hidden";StackExchange.using("gps",function(){StackExchange.gps.track("comment.add",{"location":u,"type":d})})}s||(e.preventDefault(),n.addShow(!1,l))}function a(e,t){var n="anon-vote-popup-"+e;if(!$("."+n).length){$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var o=$('<div class="anon-vote-popup comment-popup popup">'+function(e){return"Loading"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(n).addSpinner();o.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show",{"type":t})}),$.ajax({"type":"POST","url":"/posts/popup/anon-comment/"+e,"dataType":"html","success":function(e){o.html(e)},"error":function(){o.remove()}})}}function s(e){var t=e&&e.post||document;d={},$(t).off("click","a.js-add-link",r).on("click","a.js-add-link",r),$(t).off("click","a.js-show-link",r).on("click","a.js-show-link",r),t==document&&l(),c(null,!0),e&&e.commentHighlightFocus&&(u=e.commentHighlightFocus)}function c(t,n){n||(f=t),t=t||f||{};for(var o in t)t.hasOwnProperty(o)&&(e.prototype[o]=t[o])}function l(){if(0!=$(".question[data-questionid]").length){var e=StackExchange.question.getQuestionId();$(".js-comment .comment-date > span").each(function(){var t=$(this),n=t.closest(".answer"),o=n&&n.length?n.data("answerid"):0,i=t.closest(".js-comment").attr("id").substr("comment-".length),r=o?o:e,a="#comment"+i+"_"+r;location.href.indexOf("/questions/")>0?t.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({"hash":a})):t.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({"hash":a,"pid":r}))})}}var u,d={},p=function(){};e.prototype={"checkDiscussion":p,"ensureInput":p,"renderTextInput":p,"alterAddEditDataBeforeSubmit":p,"saveEditingComments":p,"restoreEditingComments":p,"isInputShown":function(){var e=this.jDiv.find('form[id^="add-comment-"]');return e.children().length&&e.is(":visible")},"commentsShown":function(){this.remainingCommentsCount(0)},"remainingCommentsCount":function(e){return"undefined"==typeof e?parseInt(this.jCommentsList.data("remaining-comments-count"))||0:(this.jCommentsList.data("remaining-comments-count",e),void 0)},"addShow":function(e,t){var n=this,o=this.loadAllComments().done(function(){n.checkDiscussion()});if(t){var i=this.ensureInput();i&&!e&&i.focus()}o.done(function(){i&&i.length>0&&n.jCommentsLinkContainer.hide()})},"ajax":function(e,t,n,o){n&&!o&&StackExchange.helpers.addSpinner(n,{"margin-left":"10px"});var i=this;return $.ajax(e).fail(function(e){var r=e.responseText;(!r||r.indexOf("<html")>=0)&&(r=t||"An error occured"),StackExchange.helpers.showErrorMessage(n||i.jDiv,r,{"transient":409==e.status}),n&&!o&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},"setCommentsMenu":function(e){var t="",n="";e>0&&(n=function(e){return 1==e.count?"show <b>"+e.count+"</b> more comment":"show <b>"+e.count+"</b> more comments"}({"count":e})),this.isInputShown()||!this.jCommentsList.data("cansee")&&!this.jCommentsList.data("canpost")||(t=StackExchange.settings.comments.addButtonSaysSuggestImprovements?"suggest improvements":"add a comment"),t.length||n||!this.jCommentsList.data("comments-unavailable")||(t="comments disabled on deleted / locked posts / reviews"),StackExchange.options.inReadOnly&&(t="");var o=this.jCommentsLinkContainer.find(".js-add-link"),i=this.jCommentsLinkContainer.find(".js-show-link");o.html(t),i.html(n),t.length?o.removeClass("dno"):o.addClass("dno"),n.length?i.removeClass("dno"):i.addClass("dno"),t.length&&n.length?this.jCommentsLinkContainer.find(".js-link-separator").removeClass("dno"):this.jCommentsLinkContainer.find(".js-link-separator").addClass("dno"),this.jCommentsList.data("addlink-disabled")&&o.addClass("disabled-link")},"clearHighlights":function(){this.jCommentsList.find(".js-comment").removeClass("new_comment").css("background-color","")},"showComments":function(e,n,o,i){this.saveEditingComments(n);var r=!o,a={};if(this.clearHighlights(),r&&this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&(a[t.id]=!0)}),this.jCommentsList.html(e),r){var s=null;this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&!a[t.id]&&(s||(s=t),$(t).addClass("new_comment"))});var c=this.jCommentsList.find(".new_comment");t(c),u&&c.length&&!i&&c[0].scrollIntoView(!0)}this.restoreEditingComments(),this.setCommentsMenu(0),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),l(),this.commentsShown()},"loadAllComments":function(e,t,n,o){this.jDiv.removeClass("dno");var i=0===this.remainingCommentsCount();if(!e&&i)return $.Deferred().resolve().promise();var r=this;return this.ajax({"type":"GET","url":"/posts/"+this.postId+"/comments"+(t||""),"dataType":"html"},"An error occurred while fetching comments").done(function(e){r.showComments(e,null,n,o)}).promise()}};var f;return{"init":s,"loadAll":function(e,t){return o(e).loadAllComments(!0,t,!0,!0)},"realtimeMessage":n,"flashHighlight":t,"extendPostUi":c,"uiForPost":o}}(),StackExchange.share=function(){function e(e,t,n){window.open(e,t,n)||(window.location.href=e)}function t(e,t,n){n="undefined"!=typeof n?n:"1",t+="="+n;var o=e.indexOf("?"),i=e.indexOf("#");return-1==o?-1==i?e+"?"+t:e.substring(0,i)+"?"+t+e.substring(i):-1==i?e+"&"+t:e.substring(0,i)+"&"+t+e.substring(i)}return{"twitter":function(n,o,i,r){o=t(o,"stw",r);var a=117;i.length>a&&(i=i.substring(0,a-3)+"..."),n.click(function(){e("https://twitter.com/share?url="+encodeURIComponent(o)+"&ref=twitbtn&text="+encodeURIComponent(i),"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},"facebook":function(n,o,i,r){o=t(o,"sfb",r),n.click(function(){e("https://www.facebook.com/sharer.php?u="+encodeURIComponent(o)+"&ref=fbshare&t="+encodeURIComponent(i),"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}(),$.fn.extend({"postId":function(){var e=this.first();return e.hasClass("answer")&&e.hasClass("question")||(e=e.closest(".answer, .question")),parseInt(e.find(".vote input")[0].value)}}),StackExchange.newsletterAd=function(){function e(e){var t=$('<div class="popup newsletter-popup lightbox-panel" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{"title":"close this popup (or hit Esc)"})).append(e);$("body").loadPopup({"lightbox":!0,"html":t,"target":$("body")})}function t(t){$("#newsletter-signup").click(function(){var e=$(this);StackExchange.helpers.addSpinner("#newsletter-signup-container"),$.ajax({"url":t.subscribeUrl.replace(/-1/,StackExchange.options.user.userId),"type":"POST","dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"siteId":StackExchange.options.site.id},"success":function(t){t.url?window.location.href=t.url:"confirmed"==t.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==t.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"error":function(){e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})}),$("#newsletter-preview").click(function(){var t=$(window).height(),n=Math.min(600,t-100),o=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',n,'px;">','<iframe src="',$(this).attr("href"),'" width="660" height="',n,'" frameborder="0"></iframe>',"</div>"].join("");return e(o),!1})}return{"init":t,"loader":function(e,t){var e=t||e,n=$(".newuser-greeting");$.ajax({"url":"/newsletter/targetted/ajax","data":{"domain":e},"success":function(e){$("#newsletter-ad").remove(),n.empty().append($(e))},"complete":function(){n.attr("class","").attr("style","")}}),t||(window.sessionStorage.tNewsletter=e+"-continued")}}}(),function(e,t,n,o){var i=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(e,r){var a,s,c=this[0];if("object"==typeof e&&"number"==typeof e.start&&"number"==typeof e.end)a=e.start,s=e.end;else if("number"==typeof e&&"number"==typeof r)a=e,s=r;else if("string"==typeof e)(a=c.value.indexOf(e))>-1?s=a+e[t]:a=null;else if("[object RegExp]"===Object.prototype.toString.call(e)){var l=e.exec(c.value);null!=l&&(a=l.index,s=a+l[0][t])}if("undefined"!=typeof a){if(i){var u=this[0].createTextRange();u.collapse(!0),u.moveStart("character",a),u.moveEnd("character",s-a),u.select()}else this[0].selectionStart=a,this[0].selectionEnd=s;return this[0].focus(),this}if(i){var d=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var p=this.val(),f=d[n]()[o]();f.moveEnd("character",p[t]);var h=""==f.text?p[t]:p.lastIndexOf(f.text);f=d[n]()[o](),f.moveStart("character",-p[t]);var g=f.text[t]}else{var f=d[n](),m=f[o]();m.moveToElementText(this[0]),m.setEndPoint("EndToEnd",f);var h=m.text[t]-f.text[t],g=h+f.text[t]}}else var h=c.selectionStart,g=c.selectionEnd;var v=c.value.substring(h,g);return{"start":h,"end":g,"text":v,"replace":function(e){return c.value.substring(0,h)+e+c.value.substring(g,c.value[t])}}}}(jQuery,"length","createRange","duplicate"),StackExchange.nocaptcha=function(){function e(e,n){var o=['<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":"×"}).prop("outerHTML"),"</div>",e,"</div>"].join("");$("body").loadPopup({"target":$("body"),"html":o,"lightbox":!0,"loaded":function(e){t(e,n)}})}function t(e,t){var n=e.find("form:first");StackExchange.helpers.enableSubmitButton(n),n.submit(function(){return StackExchange.helpers.disableSubmitButton(n),n.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/nocaptcha","type":"POST","dataType":"json","data":n.serialize(),"success":function(o){o.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),n.find(".form-error").html(o.captchaError),Recaptcha.reload()):(e.find(".popup-close a").click(),t(o))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),StackExchange.helpers.showErrorMessage(n,"An error occurred submitting the CAPTCHA")}}),!1})}return{"init":e}}(),StackExchange.gps=function(){function e(e){return m?!0:(m=!0,e&&t()?(StackExchange.gps.sendPending=a,StackExchange.gps.track=s,l(),a(),n(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1"),n(".question-page",".js-gps-related-questions .spacer","related_questions.click"),n(".question-page .post-taglist",".post-tag","question_tags.click",", location:1"),n(".question-page #sidebar .tagged",".post-tag","question_tags.click",", location:2"),o(),!0):(StackExchange.gps.track=function(e,t,n,o){o&&o()},delete StackExchange._gps_track,!1))}function t(){if(!window.localStorage)return!1;try{if(window.localStorage["gps-probe"]="1","1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(e){return!1}return!0}function n(e,t,n,o){$(e).find(t).each(function(e){$(this).addClass("js-gps-track").data("gps-track",n+"({ position:"+(e+1)+o+" })")})}function o(e){var t=$(e||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var e=$.trim($(this).data("gps-track"));if(e)for(var t=i(e),n=0;n<t.length;n++){var o=t[n];StackExchange.gps.track(o[0],o[1],!0)}});h("bindTrackClicks bound {0} elements in {1}",t.length,e||"document")}function i(e){function t(e){if("true"===e)return!0;if("false"===e)return!1;if("'"===e[0]||'"'===e[0])return e.substring(1,e.length-1);var t=parseFloat(e);return isNaN(t)?e:t}for(var n=[],o=e.match(/([a-z._-]+)(\([^)]+\))?/gi),i=0;i<o.length;i++){var r=o[i];if(r.indexOf("{")<0)n.push([r,{}]);else{for(var a=r.match(/([a-z._-]+)\s*\(\s*\{([^}]+)\}\s*\)/i)||[],s=a[1],c=$.trim(a[2])||"",l=c.match(/[^,]+/gi)||[],u={},d=0;d<l.length;d++){var p=l[d],f=p.indexOf(":"),h=$.trim(p.substr(0,f)),g=$.trim(p.substr(f+1)),m=t(g);u[h]=m}n.push([s,u])}}return n}function r(e,t){$(e).on("click",t+" a[href]:not(.question-hyperlink, .answer-hyperlink)",function(){var e=$(this),t=e.attr("href");StackExchange.helpers.isInNetwork(t)||("undefined"==typeof ga?h("outbound link clicked "+t):ga("send","event","outbound","click",t,{"useBeacon":!0}))})}function a(e){var t=u();if(t.length>0){for(var n=(new Date).getTime(),o=[],i=0;i<t.length&&o.length<20;i++){var r=t[i],a=n-r.now;0>a||a>36e5?p(r):o.push(r)}o.length>0?f(o,e):e&&e()}}function s(e,t,n,o){var i={"evt":e,"properties":t||{},"now":(new Date).getTime()};d(i),navigator&&navigator.sendBeacon&&(n=!1),n?(o&&o(),window.setTimeout(a,1e4)):a(o)}function c(e){e&&StackExchange.options&&StackExchange.options.user&&(e.properties&&!e.properties.user_type&&(e.properties.user_type=StackExchange.options.user.user_type),!e.ab&&StackExchange.options.user.ab&&(e.ab=StackExchange.options.user.ab))}function l(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(e,t){d(t)}),delete StackExchange._gps_track)}function u(){var e=localStorage[g];return e?JSON.parse(e):[]}function d(e){c(e);var t,n=localStorage[g];if(n){var o=JSON.parse(n);o.push(e),t=JSON.stringify(o)}else t=JSON.stringify([e]);h("addToPending "+JSON.stringify(e)),localStorage[g]=t}function p(e){var t=localStorage[g];if(t){for(var n=JSON.parse(t),o=JSON.stringify(e),i=-1,r=0;r<n.length;r++){var a=JSON.stringify(n[r]);if(o==a){i=r;break}}if(-1!=i)return n.splice(i,1),0==n.length?(localStorage.removeItem(g),void 0):(localStorage[g]=JSON.stringify(n),void 0)}}function f(e,t){$.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var o=JSON.stringify(e[n]);v[o]&&(e.splice(n,1),n--)}for(var n=0;n<e.length;n++){var o=JSON.stringify(e[n]);v[o]=!0}var i=JSON.stringify(e);if(navigator&&navigator.sendBeacon)try{h("sending (beacon): "+i);var r="/gps/event";if(StackExchange&&StackExchange.options&&StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length&&(r=StackExchange.options.site.routePrefix+r),navigator&&navigator.sendBeacon(r,i)){for(var n=0;n<e.length;n++){p(e[n]);var o=JSON.stringify(e[n]);delete v[o]}return t&&t(),void 0}}catch(a){h(a)}h("sending (AJAX): "+i),$.ajax({"type":"POST","url":"/gps/event","data":{"data":i},"success":function(){for(var t=0;t<e.length;t++)p(e[t])},"complete":function(){for(var n=0;n<e.length;n++){var o=JSON.stringify(e[n]);delete v[o]}t&&t()}})}function h(e){if((StackExchange.options&&StackExchange.options.enableLogging||$.cookie("devlog"))&&"string"==typeof e){if(arguments.length>1){var t=Array.prototype.slice.call(arguments,1);e=String.prototype.formatUnicorn.apply(e,t)}console.log("gps: "+e)}}var g="gps-pending",m=!1,v={},b=StackExchange.gps.track,y=StackExchange.gps.sendPending;return{"init":e,"bindTrackClicks":o,"track":b,"sendPending":y,"trackOutboundClicks":r}}(),StackExchange.openid=function(){function e(e,t){return e?(t&&$(e).data("ssrc",t),$(e).data("ssrc")):c}function t(t,n){var o=e(n);t&&(StackExchange.gps.track("openid.click",{"openid_provider":t,"location":o},!0),StackExchange.gps.track("signup.openid.click",{"openid_provider":t,"location":o},!0)),StackExchange.gps.track("signup.start",{"openid_provider":t,"location":o,"tid":StackExchange.options.user.tid},!0)}function n(n,o,c){var l=decodeURIComponent(o),u="unknown";c&&c.length?u=c:(0===l.indexOf("/questions/")&&(u="question_page"),"/questions/ask"===l&&(u="question_ask"));var d=$(n);e(d,u),d.removeClass("dno");var p=d.find(".google-login");p.click(function(){t("Google",d),r(d)});var f=d.find(".facebook-login");f.click(function(){t("Facebook",d),i(d)});var h=d.find(".stackexchange-login");h.click(a(function(){t("Stack Exchange",d),StackExchange.navPrevention.stop(),window.location="/users/signup?ssrc="+encodeURIComponent(u)+"&returnUrl="+encodeURIComponent(l)})),d.find(".submit-openid").click(function(){s(d,l)})}function o(n,o,a,c,l){var u=decodeURIComponent(o);e(n,a);var d=n.find(".google-login");d.click(function(){t("Google",n),r(n)});var p=n.find(".facebook-login");p.click(function(){t("Facebook",n),i(n)});var f=n.find(".stackexchange-login");f.click(function(){t("Stack Exchange",n),window.location="/users/signup?ssrc="+encodeURIComponent(a)+"&returnUrl="+encodeURIComponent(u)}),n.find(".submit-openid").click(function(){s(n,u,c,l)})}function i(t){t.find(".ssrc").val(e(t)),t.find(".use-facebook").val("true"),t.find(".use-google").val(""),t.find(".submit-openid").click()}function r(t){t.find(".ssrc").val(e(t)),t.find(".use-google").val("true"),t.find(".use-facebook").val(""),t.find(".submit-openid").click()}function a(e){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(e)})}}function s(t,n,o,i){var r=t.find(".use-facebook").val(),s=t.find(".use-google").val();a(function(){var a=!!StackExchange.options.site.isChildMeta,c=(a?StackExchange.options.site.parentUrl:"")+"/users/signup?returnurl="+encodeURIComponent(n),l=$('<form method="post" action="'+c+'"></form>'),u=$('<input type="hidden" name="oauth_version" />'),d=$('<input type="hidden" name="oauth_server" />');l.append(u),l.append(d),u.val("2.0"),r?d.val("https://www.facebook.com/v2.0/dialog/oauth"):s&&d.val("https://accounts.google.com/o/oauth2/auth"),l.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />"),$('<input type="hidden" name="ssrc" />').val(e(t)).appendTo(l),o&&i&&($('<input type="hidden" name="anon_vote_type" />').val(o).appendTo(l),$('<input type="hidden" name="anon_vote_hash" />').val(i).appendTo(l)),StackExchange.navPrevention.stop(),l.hide().appendTo("body").submit()})()}var c="unknown";return{"initPostLogin":n,"initAnonPopup":o}}();var UniversalAuth=function(){var e=1,t=200,n=1e4,o=5*n,i=!1;return{"redirectOnCompletion":function(e,r){if(i)return window.location.replace(e),void 0;var a,s=0,c=function(){if(i)return window.location.replace(e),clearInterval(a),void 0;var c=n>s,l=o>s;s+=t;var u=s>=n,d=s>=o,p=c&&u;p&&r&&r();var f=l&&d;f&&clearInterval(a)};a=setInterval(c,t)},"performAuth":function(){if(UniversalAuth.enabled()){var t=$.cookie("uauth");null!==t&&($.post("/users/login/universal/request",function(t){var n=[],o=function(){var e=null!==$.cookie("uauth");if(!e&&n){for(var t=0;t<n.length;t++){var o=n[t],r=o[0];if(!r.complete)return}i=!0}};$.each(t,function(t,i){var r="//"+i.Host+"/users/login/universal.gif?authToken="+encodeURIComponent(i.Token)+"&nonce="+encodeURIComponent(i.Nonce);$(document).ready(function(){var t=$("<img/>").attr({"style":"display:none","src":r,"crossOrigin":"use-credentials"});n.push(t),t.one("load",function(){var i=t[0].width,r=t[0].height;if(2===i&&2===r&&e>0){e--;var a=$.cookie("uauth");if(!a){var s=new Date,c=new Date(s.getTime()+3e5);$.cookie("uauth","true",{"path":"/","domain":document.domain,"expires":c}),n=null,setTimeout(function(){UniversalAuth.performAuth()},10)}}o()}),$("#footer").append(t)})})},"json"),$.cookie("uauth",null,{"path":"/","domain":document.domain}))}},"enabled":function(){return!0}}}();StackExchange.ready(function(){function e(){try{$.cookie("fkey",StackExchange.options.user.fkey,{"path":"/","expires":1/144})}catch(e){}}if(StackExchange.options.user.isAnonymous){var t=/\bfkey=/i;$(document).ajaxSend(function(n,o,i){"post"===i.type.toLowerCase()&&(t.test(i.url)||t.test(i.data))&&e()}),$(document).on("submit","form",function(){var t=$(this);"post"===t.attr("method").toLowerCase()&&t.find("input[name='fkey']").length&&e()})}}),StackExchange.loadJqueryUi=function(){var cssLink=StackExchange.settings.paths.jQueryUICSSPathOverride,jsLink=StackExchange.settings.paths.jQueryUIJSPathOverride;if(cssLink||(cssLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css"),jsLink||(jsLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"),$.ui)return $.Deferred().resolve();$("<link>").attr({"href":cssLink,"rel":"stylesheet","type":"text/css","media":"all"}).appendTo("head");var result=$.Deferred(),locale=StackExchange.options.locale,datepickerLanguageGetter,datepickerLanguageScript;return $.ajaxSetup({"cache":!0}),"en"!==locale&&(datepickerLanguageGetter=$.ajax({"url":"/content/js/third-party/jquery-ui/datepicker-"+locale+".js","dataType":"text","type":"GET"}).done(function(e){datepickerLanguageScript=e})),$.when(datepickerLanguageGetter||$.Deferred().resolve(),$.getScript(jsLink)).done(function(){eval(datepickerLanguageScript),result.resolve()}),$.ajaxSetup({"cache":!1}),result.promise()},StackExchange.processTimings=function(){function e(e,t){var n={};t=t||e.name||!1;for(var o in e)if("toJSON"!==o&&"entryType"!==o)if(t){if("subresources"===o)continue;
var i=Math.round(e[o]);n[o]=i?i:e[o]}else 0!==e[o]&&(n[o]=0===e[o]?null:e[o]-e.navigationStart);return n}function t(){if(StackExchange.options.timingsGuid&&window.performance&&window.performance.timing&&window.performance.getEntriesByType){var t=[],n=[],o=!1,i=function(i){for(var r=0;r<n.length;r++)n[r].cancel();if(!o){o=!0;var a=$.extend(e(window.performance.timing,!1),{"guid":StackExchange.options.timingsGuid,"Info":StackExchange.options.timingsInfo,"fkey":StackExchange.options.user.fkey,"subresources":t.map(function(t){return e(t,!0)})}),s=JSON.stringify(a);if(navigator&&navigator.sendBeacon&&-1===location.search.indexOf("__debug=1"))try{var c="/_/client-timings";if(StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length&&(c=StackExchange.options.site.routePrefix+c),navigator&&navigator.sendBeacon(c,s))return}catch(l){}i||$.post("/_/client-timings",s)}},r=StackExchange.helpers.DelayedReaction(i,StackExchange.settings.monitoring.clientTimingsDebounceTimeout,{"sliding":!0});n.push(r);var a=StackExchange.helpers.DelayedReaction(i,StackExchange.settings.monitoring.clientTimingsAbsoluteTimeout);a.trigger(),n.push(a);var s={},c=window.setInterval(function(){for(var e=window.performance.getEntriesByType("resource"),n=!1,o=0;o<e.length;o++)if(!s[o]){var i=e[o];t.push(i),n=!0,s[o]=!0}n&&r.trigger()},50);n.push({"cancel":function(){c&&(window.clearInterval(c),c=null)}}),window.performance.onresourcetimingbufferfull=function(){window.performance.clearResourceTimings(),s={}},$(window).unload(function(){i(!0)})}}return t}(),StackExchange.showFlashMessageIfAny=function(){var e="flash-message-json",t=$.cookie(e);if(t)try{$.cookie(e,null,{"path":"/","domain":document.domain});var n=decodeURIComponent(t.replace(/[+]/g," ")),o=JSON.parse(n);if(StackExchange.options.enableLogging&&console.log("flash message: showing "+n),StackExchange.options.isMobile)return StackExchange.helpers.showMobileMessage(o.message,o.type),void 0;switch(o.position){case"toast":var i={"type":o.type,"position":o.position,"transient":!0};StackExchange.helpers.showMessage(document.body,o.message,i);break;default:StackExchange.helpers.showBannerMessage(o.message,o.type)}}catch(r){}},StackExchange.prepareEditor=function(e){var t=e.postfix||"",n=function(){setTimeout(function(){StackExchange.editor.initIfShown(e)},1)};if(!e.onDemand)return StackExchange.using("editor",n),void 0;for(var o="bold-button italic-button spacer1 link-button quote-button code-button image-button spacer2 olist-button ulist-button heading-button hr-button spacer3 undo-button redo-button".split(" "),i=$('<ul id="wmd-button-row'+t+'" class="wmd-button-row" />').appendTo(".wmd-button-bar"),r=0,a=0;a<o.length;a++){var s=o[a],c=/spacer/.test(s),l=$("<li id='wmd-"+s+t+"' />").prop("className","wmd-"+(c?"spacer":"button")).css("left",25*a).appendTo(i);$("<span />").css("background-position",r+"px -20px").appendTo(l),c||(r-=20)}var u=document.createElement("li");u.className="wmd-spacer wmd-spacer-max",i.append(u);var d=!1;$("#wmd-input, #title, #tagnames, #edit-comment, #m-address, #display-name").one("focus click keydown",function(){if(!d){d=!0;var t=function(){i.remove(),e.autoShowMarkdownHelp&&(e.immediatelyShowMarkdownHelp=!0),n()};i.addSpinner({"float":"right"}),StackExchange.using("editor",t)}})},StackExchange.bindShowMoreHotNetworkQuestions=function(){var e,t=$("#hot-network-questions");if(t.length&&(e=t.find(".js-show-more")).length){var n=t.find(".js-hidden");e.click(function(){return n.show(),e.remove(),!1});var o=$("#mainbar").height(),i=$("#sidebar").height()+550;o>i&&(n.each(function(){return i+=$(this).show().height(),o>i}),0==n.filter(":hidden").length&&e.remove())}},StackExchange.Auth=function(){var e=function(e,t){for(var n=!1,o=0;o<e.length;o++)if(e[o].id==t.id){t.changed=e[o].message==t.message,e[o].message=t.message,n=!0;break}n||(t.changed=!0,t.index>=e.length?e.push(t):e.splice(t.index,0,t))},t=function(t,n,o){var i=15,r=8,a=t.val(),s=/[a-z]/.test(a),c=/[A-Z]/.test(a),l=/\d/.test(a),u=/(_|[^\w\d])/.test(a),d=0;if(s&&d++,c&&d++,l&&d++,u&&d++,2===d&&a.length>=i)return o(n,"pw-weak"),o(n,"pw-short"),void 0;var p=$("<span><p>"+function(e){return"Please add one of the following things to make your password stronger:"+e.pEnd+" "+e.listStart+" "+e.char+" letters "+e.itemEnd+" "+e.num+" numbers "+e.itemEnd+" "+e.listEnd}({"pEnd":"</p>","listStart":"<ul>","listEnd":"</ul>","itemEnd":"</li>","char":'<li id="ch">',"num":'<li id="num">'})+"</span>");(s||c)&&l?o(n,"pw-weak"):3>d?((s||c)&&p.find("#ch").remove(),l&&p.find("#num").remove(),e(n,{"id":"pw-weak","index":1,"attachTo":t,"message":p})):o(n,"pw-weak");var f=t.val().length;if(r>f){var h=r-f;e(n,{"id":"pw-short","index":2,"attachTo":t,"message":function(e){return 1==e.remaining?"Must contain at least "+e.remaining+" more character.":"Must contain at least "+e.remaining+" more characters."}({"remaining":h})})}else o(n,"pw-short")};return{"addOrUpdateError":e,"passwordStrengthValidation":t}}(),StackExchange.Hero=function(){var e={"name":null,"version":null},t=function(){var t="hero-dismissed",o={"ld":"","d":[]},i=$.cookie(t);if(i){var r=i.split("!");r.shift(),o.d=r}o.ld=(new Date).getTime();var a=e.name+"_"+e.version,s=!0;for(var c in o.d){var l=o.d[c],u=l.split("_");if(u===e.name){o.d[c]=a,s=!1;break}}s&&o.d.push(a),$.cookie(t,n(o),{"path":"/","expires":365})},n=function(e){return[e.ld].concat(e.d).join("!")},o=function(t,n){e.name=t,e.version=n};return{"init":o,"dismiss":t}}(),StackExchange.checklist=function(){function e(e,t,n){return $.post(e,{"fkey":StackExchange.options.user.fkey,"preference":t,"hideCompletedOrDismiss":n})}$(document).on("click",".js-toggle-completed-requirements",function(t){var n=$(t.target),o=n.closest(".js-checklist"),i=n.hasClass("is-visible"),r=n.data("preference"),a=n.data("url");e(a,r,i).always(function(){o.find(".js-requirement.is-finished").closest("li").toggleClass("dno"),n.toggleClass("is-visible is-hidden").text(i?"Show all items":"Hide completed items")})})}(),StackExchange.responsiveness=StackExchange.responsiveness||{},function(){StackExchange.responsiveness.addSwitcher=function(){var e=!!$.cookie("no-responsiveness");$('<li class="-item"><a class="-link" role="button" /></a></li>').find("a").text(e?"Enable Responsiveness":"Disable Responsiveness").click(function(){$.cookie("no-responsiveness",e?null:"1",e?{"path":"/"}:{"path":"/","expires":180}),location.reload(!0)}).end().appendTo(".js-primary-footer-links")}}(),StackExchange.CustomQuestionList=function(){function e(e){for(var t=e.split(/[\s|,;]+/),n=t.length-1;n>=0;n--){var o=t[n];/^-[^-]/.test(o)&&(t.splice(n+1,0,o.substring(1)),t[n]="not")}return t.join(" ")}function t(e){for(var t=e.split(/[\s|,;]+/).filter(function(e){return e.length>0}),n=!0,o=t.length-1;o>=0;o--){var r=t[o];n&&i.test(r)?t.splice(o,1):("not"===r&&t.splice(o,2,"-"+t[o+1]),n=!1)}return encodeURIComponent(t.join(" "))}function n(t,n,o){t.val(e(o));var r=function(e){for(var t=e.map(function(){return!0}),n=0,o=e.length-1;o>=0;o--){var i=/^not$/i.test(e[o])?2:/^(?:and|or)$/i.test(e[o])?1:0;(i>0&&1===n||2===i&&2===n)&&(t[o+1]=!1),n=i}return t};StackExchange.using("tagEditor",function(){StackExchange.tagEditor(t,null,null,{"excerpts":!1,"columns":1,"multiLine":!0,"operators":i,"customFilterTags":r,"useStacksClasses":!0}),t.next(".tag-editor").on("change",function(){n.prop("checked",!0)}).on("keypress",function(e){0!==e.which&&n.prop("checked",!0)}),StackExchange.tagEditor.ready.then(function(){StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.init()})})})}var o={"current":{"sort":"","filters":[],"tagMode":"","tags":""},"previous":{"sort":"","filters":[],"tagMode":"","tags":""}},i=/^(?:and|or|not)$/i,r=!1,a="filter-all-time",s="filter-Specified",c=8,l=4,u=12,d=$(".js-sort-btn"),p=$(".js-sort-popover"),f=$(".js-filter-btn"),h=$(".js-filter-popover"),g=$(".js-filter-clear-tags"),m=$(".js-more-btn"),v=$(".js-more-popover");m.on("click",function(e){var t=v.hasClass("is-visible");k(),t||v.addClass("is-visible"),e.preventDefault(),e.stopPropagation()}),d.on("click",function(e){var t=p.hasClass("is-visible");k(),t||p.addClass("is-visible"),e.stopPropagation()}),$(".js-sort-links .js-link").on("click",function(){k(),$(".js-sort-btn").html($(this).text()),$(".js-sort-links .s-link").removeClass("bg-black-050"),$(this).addClass("bg-black-050"),o.current.sort=$(this).attr("data-nav-value"),window.location=T()}),f.on("click",function(e){var t=r;k(),t||h.addClass("is-visible"),r=h.hasClass("is-visible"),e.stopPropagation()});var b=function(){$(".js-filter-tagnames").on("tageditor:renderedchange",function(e,t){o.current.tags=t.join(" "),o.current.tags.length>0?g.removeClass("d-none"):g.addClass("d-none"),y()}),g.click(function(){$("#"+s).prop("checked",!0),o.current.tags="",C(!0)})},y=function(){S(p,d),S(v,m),S(h,f)},k=function(){r&&(C(!0),r=!1),$(".is-visible").removeClass("is-visible"),y()},w=function(){var e=[];return $(".js-filter-input:checked").each(function(){$(this).attr("id")!==a&&e.push($(this).attr("data-nav-value"))}),e},x=function(){o.current.filters.length>1?$(".js-filter-btn").html("Multiple"):0===o.current.filters.length?$(".js-filter-btn").html("All"):1===o.current.filters.length&&$(".js-filter-btn").html($("[for="+$("[data-nav-value="+o.current.filters[0]+"]").attr("id")+"]").find(".js-label-text").html())},S=function(e,t){var n=t.position(),o=n.left-(e.outerWidth()/2-t.outerWidth()/2);e.hasClass("temp-popover__bottom-left")&&(o-=e.outerWidth()/2,o+=2*u),e.css("top",n.top+t.outerHeight()+c+l+"px").css("left",o+"px")},C=function(e){o.current.filters=w(),o.current.tagMode=$(".js-cql-tag-mode:checked").val()||"Follow",x(),e&&E()&&(window.location=T())},E=function(){return!j(o.previous.filters,o.current.filters)||o.previous.tagMode!==o.current.tagMode||"Specified"===o.current.tagMode&&(o.previous.tags||"")!==(o.current.tags||"")},j=function(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},T=function(){var e="";switch(o.current.tagMode){case"Specified":e=t(o.current.tags);break;case"Watched":e="";break;default:e=t(o.previous.tags)}var n=[];o.current.sort.length>0&&n.push("sort="+o.current.sort),o.current.filters.length>0&&n.push("filters="+o.current.filters.join(",")),"Follow"!==o.current.tagMode&&n.push("tagMode="+o.current.tagMode);var i="Watched"===o.current.tagMode?"/questions/tagged":e?"/questions/tagged/"+e:"/questions";return window.location.origin+i+(n.length>0?"?"+n.join("&"):"")},O=function(e){var t=[];for(var n in e)"string"==typeof e[n]&&e[n].length>0&&t.push(e[n]);return t},P=function(e){e.filters=O(e.filters),o.previous.sort=e.sort,o.previous.filters=e.filters,o.previous.tagMode=e.tagMode,o.previous.tags=e.tags,o.current.sort=e.sort,o.current.filters=e.filters,o.current.tagMode=e.tagMode,o.current.tags=e.tags,a=e.allTimeFilterId,s=e.specifiedTagsFilterId,y(),$(document).click(function(e){var t=$(e.target);!$.contains(document.documentElement,e.target)||h.has(e.target).length>0||h.is(e.target)||t.parents(".tag-suggestions").length>0||t.is(".tag-suggestions")||k()}),$(window).resize(function(){y()}),b(),x(),n($(".js-filter-tagnames"),$("#"+s),e.tags)};return{"init":P}}(),StackExchange.stacksValidation=function(){function e(e){var n=e.data("stacks-validation-handler");return n||(n=new t(e),e.data("stacks-validation-handler",n)),n.invalid?null:n}function t(e){return this.$input=e,this.$container=e.closest(".js-stacks-validation"),this.$container.length?(this.$message=this.$container.find(".js-stacks-validation-message"),this.messages=[],void 0):(this.invalid=!0,void 0)}function n(e){return e.html}function o(e){return e.type}t.prototype={"_updateMessages":function(){if(this.$message.empty().toggleClass("d-none",!this.messages.length),this.messages.length){var e;e=1===this.messages.length?this.messages[0].html:"<ul><li>"+this.messages.map(n).join("</li><li>")+"</li></ul>",this.$message.html(e).find("a").attr("target","_blank")}},"_updateIcon":function(){if(this.$container.find(".js-stacks-validation-icon").remove(),this.messages.length){var e=this.highestType();Svg[i[e]].With("s-input-icon js-stacks-validation-icon").insertAfter(this.$input)}},"_updateClass":function(){this.$container.removeClass("has-error has-warning has-success"),this.messages.length&&this.$container.addClass("has-"+this.highestType())},"_update":function(){this._updateMessages(),this._updateIcon(),this._updateClass()},"highestType":function(){return this.messages.map(o).reduce(function(e,t){return"error"===e||"error"===t?"error":"warning"===e||"warning"===t?"warning":"success"})},"add":function(e,t){this.messages.some(function(n){return n.type===e&&n.html===t})||(this.messages.push({"type":e,"html":t}),this._update())},"clear":function(e){this.messages=e?this.messages.filter(function(t){return t.type!==e}):[],this._update()}};var i={"error":"AlertCircle","warning":"Alert","success":"Checkmark"};return{"handlerFor":e}}(),StackExchange.Notice=function(){var e={"cookieId":null,"expireDate":null},t=function(t){$.cookie(e.cookieId,t,{"expires":new Date(e.expireDate),"path":"/"})},n=function(n){if(e.cookieId){var o=n($.cookie(e.cookieId));o&&t(o)}},o=function(){t("2;"+Date.now())},i=function(){t("4;"+Date.now())},r=function(){var t=$(".js-announcement-banner");e.cookieId=t.data("cookie"),e.expireDate=t.data("expire-date"),t.find(".js-link").click(function(){o()}),t.find(".js-dismiss").click(function(){return i(),t.animate({"height":"0","opacity":0},"fast","linear",function(){t.remove()}),!1})},a=function(){var t=$(".js-research-banner"),n=new Date,r=t.data("days-to-expire");e.cookieId=t.data("cookie"),e.expireDate=n.setDate(n.getDate()+r);var a=function(){var e=$(this).closest(".research-banner__state");if(!e)return!1;var t=$(".js-research-banner"),n=t.find(".research-banner__state");n.hide();var o=n.index(e),i=$(n.get(o+1));t.removeClass(e.data("propagateClass")),t.addClass(i.data("propagateClass")),i.show()},s=function(e){StackExchange.helpers.showToast(e,{"type":"danger","transientTimeout":3e3})};$(".js-research-banner form.js-submit").submit(function(e){return e.preventDefault(),$.ajax({"type":"POST","url":t.data("cta-url"),"data":{"fkey":StackExchange.options.user.fkey}}).done(function(e){e.success?o():s(e.message)}).fail(s),a.call(this),!1}),$(".js-research-banner .js-research-dismiss").click(function(){return i(),$(".js-research-banner").remove(),!1}),$(".js-research-banner-state .js-research-confirm").click(a)},s=function(){var r=$(".js-create-team-tooltip"),a=$(".js-create-team-btn-with-tooltip");e.cookieId=r.data("cookie"),e.expireDate=r.data("expire-date");var s=function(){StackExchange.using("gps",function(){StackExchange.gps.track("teams.create.left-sidenav-tooltip.dismiss")})};r.on("click",function(){return $(this).fadeOutAndRemove(),i(),s(),!1}),a.on("click",function(){o()});var c="notice-UserMessaging-CreateTeamTooltip",l=$.cookie(c);l&&(t(l),$.cookie(c,null,{"path":"/"})),n(function(e){return e?"!"===e.substring(0,1)?"!"+(1+parseInt(e.substring(1))):null:"!1"})};return{"annoucementBannerInit":r,"researchBannerInit":a,"tooltipInit":s}}(),StackExchange.ga=function(){function e(e){try{if(!StackExchange.options.enableLogging)return;console.log("StackExchange.ga: "+e)}catch(t){}}var t,n=0,o={},i=function(e){e.find("[data-ga]").each(function(){var e=$(this),t=e.is("form"),n=t?"submit":"click";e.on(n,function(){var n=h(e);null!==n&&(u(e,n),t&&p(e,n))})}),e.find("[data-ga-action]").each(function(){var e=$(this);e.on("change",function(){return f(e)})})},r=function(e,n,o){if(t)for(var i=0;i<t.trackingCodes.length;i++){var r=m(i,"set");e&&t.tracker(r,"campaignMedium",e),n&&t.tracker(r,"campaignName",n),o&&t.tracker(r,"campaignSource",o)}},a=function(e,n){if(t)for(var o=0;o<t.trackingCodes.length;o++)t.tracker(m(o,"set"),e,n)},s=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(m(n,"set"),"page",e)},c=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(m(n,"set"),"title",e)},l=function(n,o,i,r){if(e("track: category '"+n+"', action '"+o+"'"),t&&null!=n&&null!=o)for(var a=0;a<t.trackingCodes.length;a++)t.sendTitles||t.tracker(m(a,"set"),"title","Channel Page"),t.tracker(m(a,"send"),"event",n,o,i,void 0,r)},u=function(e,n){t&&(void 0===n&&(n=h(e)),null!==n&&l(n.category,n.action,n.label,n.fields))},d=function(){if(t)for(var e=0;e<t.trackingCodes.length;e++)t.sendTitles||t.tracker(m(e,"set"),"title","Channel Page"),t.tracker(m(e,"send"),"pageview")},p=function(e,n){if(t&&(void 0===n&&(n=h(e)),null!==n)){var i=e.attr("id"),r=o[i];if(void 0!==r){for(var a in r){var s=n.inputActionPrefix+" | "+a,c=r[a];l(n.category,s,c,{"nonInteraction":!1})}o[i]={}}}},f=function(e){if(t){var i;i=e.is(":checkbox")?e.is(":checked"):e.is("select")?e.find(":selected").toArray().map(function(e){return $(e).data("ga-value")||$(e).val()}).join(" "):e.data("ga-value")||e.val();var r=e.closest("form");if(0!==r.length&&null!==i){var a=r.attr("id");void 0===a&&(a="ga-form-"+n++,r.attr("id",a));var s=o[a];void 0===s&&(s=o[a]={});var c=e.attr("data-ga-action"),l="false"===e.attr("data-ga-is-pii")?!1:!0,u=l?"PII Omitted":i;s[c]=u}}},h=function(e){var t=e.data("ga");return void 0===t?null:{"category":t[0],"action":t[1],"label":t[2],"inputActionPrefix":t[3],"fields":t[4]}},g=function(e){return"tracker_"+e},m=function(e,t){if(0==e)return t;var n=g(e);return n+"."+t};return{"init":function(e){if(e&&e.tracker&&e.trackingCodes&&0!==e.trackingCodes.length){t=e;var n={},o="auto";window.location.host.indexOf("stackexchange.com")>=0&&(o="stackexchange.com"),StackExchange.options.user.accountId&&(n.userId=StackExchange.options.user.accountId.toString()),t.tracker("create",e.trackingCodes[0],o,n),t.tracker("set","transport","beacon");for(var r=1;r<e.trackingCodes.length;r++)t.tracker("create",e.trackingCodes[r],o,g(r),n);i($(document)),StackExchange.gaInitialized.resolve()}},"bindHandlers":i,"setCampaign":r,"setDimension":a,"setTitle":c,"setUrl":s,"track":l,"trackElement":u,"trackFormInputs":p,"trackPageView":d,"recordInputChange":f}}();var Svg=function(){function e(){}return e.GetImage=function(){return e._placeholder||(e._placeholder=function(){throw"Svg icon getters must be initialized before an icon can be retrieved"},e._placeholder.With=e._placeholder),e._placeholder},e.init=function(t,n){function o(t){var n=function(){return e.get(t)};return n.With=function(n){var o=e.get(t);return o.addClass(n),o},n}"/"!==t[t.length-1]&&(t+="/"),e.rootPath=t,e.cacheBreaker=n;var i=[];for(var r in e)e.hasOwnProperty(r)&&e[r]===e._placeholder&&i.push(r);for(var a=0;a<i.length;a++)e[i[a]]=o(i[a])},e.ensureCSS=function(){if(!e.cssAdded){var t=document.createElement("style");t.setAttribute("type","text/css"),t.textContent=".svg-skeleton-element-during-loading { display: none !important; }",document.head&&(document.head.appendChild(t),e.cssAdded=!0)}},e.get=function(t){e.ensureCSS();var n,o=e.cache[t];if("string"==typeof o){var i=document.createElement("div");i.innerHTML=o;var r=i.children[0];return i.removeChild(r),$(r)}o&&o.done?n=o:(n=$.ajax({"url":e.rootPath+t+".svg","data":{"v":e.cacheBreaker},"cache":!0,"dataType":"text"}),e.cache[t]=n);var a=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=$(a);return s.addClass("svg-skeleton-element-during-loading"),n.done(function(n){n=n||"",e.cache[t]=n;for(var o=$("<div>"+n+"</div>"),i=o.children()[0];i.attributes.length;){var r=i.attributes[0];if(i.removeAttributeNode(r),"class"===r.name)s.addClass(r.value);else{var c=r.namespaceURI?a.hasAttributeNS(r.namespaceURI,r.name):a.hasAttribute(r.name);c||a.setAttributeNodeNS(r)}}for(;i.childNodes.length;){var l=i.childNodes[0];i.removeChild(l),a.appendChild(l)}s.removeClass("svg-skeleton-element-during-loading")}),s},e.Alert=e.GetImage(),e.AlertCircle=e.GetImage(),e.Checkmark=e.GetImage(),e.ClearSm=e.GetImage(),e.UndoSm=e.GetImage(),e.cache=Object.create(null),e.cssAdded=!1,e}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Stimulus={})}(this,function(e){function t(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{"immediatePropagationStopped":!1,"stopImmediatePropagation":function(){this.immediatePropagationStopped=!0,t.call(this)}})}function n(e){var t=e.trim(),n=t.match(j)||[];return{"eventTarget":o(n[4]),"eventName":n[2],"identifier":n[5],"methodName":n[7]}}function o(e){return"window"==e?window:"document"==e?document:void 0}function i(e){return e==window?"window":e==document?"document":void 0}function r(e){var t=e.tagName.toLowerCase();return t in O?O[t](e):void 0}function a(e){throw new Error(e)}function s(e,t,n){l(e,t).add(n)}function c(e,t,n){l(e,t).delete(n),u(e,t)}function l(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function u(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}function d(e,t,n){return e.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,o){return{"element":t,"attributeName":n,"content":e,"index":o}})}function p(e,t){var n=Math.max(e.length,t.length);return Array.from({"length":n},function(n,o){return[e[o],t[o]]})}function f(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function h(e){return{"identifier":e.identifier,"controllerConstructor":g(e.controllerConstructor)}}function g(e){var t=F(e);return t.bless(),t}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function v(e,t){return"["+e+'~="'+t+'"]'}function b(){return new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})}function y(e){var t=e.prototype,n=k(e);n.forEach(function(e){var n;return x(t,(n={},n[e+"Target"]={"get":function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},n[e+"Targets"]={"get":function(){return this.targets.findAll(e)}},n["has"+S(e)+"Target"]={"get":function(){return this.targets.has(e)}},n))})}function k(e){var t=$(e);return Array.from(t.reduce(function(e,t){return w(t).forEach(function(t){return e.add(t)}),e},new Set))}function $(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t}function w(e){var t=e.targets;return Array.isArray(t)?t:[]}function x(e,t){Object.keys(t).forEach(function(n){if(!(n in e)){var o=t[n];Object.defineProperty(e,n,o)}})}function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}var C=function(){function e(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var n=t(e),o=0,i=this.bindings;o<i.length;o++){var r=i[o];if(n.immediatePropagationStopped)break;r.handleEvent(n)}},Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.unorderedBindings).sort(function(e,t){var n=e.index,o=t.index;return o>n?-1:n>o?1:0})},"enumerable":!0,"configurable":!0}),e}(),E=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(e.prototype,"eventListeners",{"get":function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},"enumerable":!0,"configurable":!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},e.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),o=n.get(t);return o||(o=this.createEventListener(e,t),n.set(t,o)),o},e.prototype.createEventListener=function(e,t){var n=new C(e,t);return this.started&&n.connect(),n},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e}(),j=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/,T=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||r(e)||a("missing event name"),this.identifier=n.identifier||a("missing identifier"),this.methodName=n.methodName||a("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,n(e.content))},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{"get":function(){return i(this.eventTarget)},"enumerable":!0,"configurable":!0}),e}(),O={"a":function(){return"click"},"button":function(){return"click"},"form":function(){return"submit"},"input":function(e){return"submit"==e.getAttribute("type")?"click":"change"},"select":function(){return"change"},"textarea":function(){return"change"}},P=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{"get":function(){return this.action.index},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"eventTarget",{"get":function(){return this.action.eventTarget},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!0,"configurable":!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{"get":function(){return this.action.eventName},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"method",{"get":function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},"enumerable":!0,"configurable":!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(t){var n=this,o=n.identifier,i=n.controller,r=n.element,a=n.index,s={"identifier":o,"controller":i,"element":r,"index":a,"event":e};this.context.handleError(t,'invoking action "'+this.action+'"',s)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):!0},Object.defineProperty(e.prototype,"controller",{"get":function(){return this.context.controller},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"methodName",{"get":function(){return this.action.methodName},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!0,"configurable":!0}),e}(),A=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{"attributes":!0,"childList":!0,"subtree":!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var o=n[t];e.has(o)||this.removeElement(o)}for(var i=0,r=Array.from(e);i<r.length;i++){var o=r[i];this.addElement(o)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var o=n[t];this.processMutation(o)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],i=this.elementFromNode(o);i&&this.processTree(i,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],i=this.elementFromNode(o);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,o=this.matchElementsInTree(e);n<o.length;n++){var i=o[n];t.call(this,i)}},e.prototype.elementFromNode=function(e){return e.nodeType==Node.ELEMENT_NODE?e:void 0},e.prototype.elementIsActive=function(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),I=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new A(e,this)}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.elementObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"selector",{"get":function(){return"["+this.attributeName+"]"},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{"get":function(){return this.elementObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}(),M=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e.concat(Array.from(t))},[])},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"size",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e+t.size
},0)},"enumerable":!0,"configurable":!0}),e.prototype.add=function(e,t){s(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){c(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){var t=Array.from(this.valuesByKey.values());return t.some(function(t){return t.has(e)})},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter(function(t){var n=(t[0],t[1]);return n.has(e)}).map(function(e){{var t=e[0];e[1]}return t})},e}(),_=void 0||function(){var e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}return _(t,e),Object.defineProperty(t.prototype,"values",{"get":function(){return Array.from(this.keysByValue.keys())},"enumerable":!0,"configurable":!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),s(this.keysByValue,n,t)},t.prototype.delete=function(t,n){e.prototype.delete.call(this,t,n),c(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]},t}(M),function(){function e(e,t,n){this.attributeObserver=new I(e,t,this),this.delegate=n,this.tokensByElement=new M}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.attributeObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.attributeObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.attributeObserver.attributeName},"enumerable":!0,"configurable":!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],o=t[1];this.tokensUnmatched(n),this.tokensMatched(o)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),o=p(t,n).findIndex(function(e){var t=e[0],n=e[1];return!f(t,n)});return-1==o?[[],[]]:[t.slice(o),n.slice(o)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName,n=e.getAttribute(t)||"";return d(n,e,t)},e}()),L=function(){function e(e,t,n){this.tokenListObserver=new D(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.tokenListObserver.started},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.tokenListObserver.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.tokenListObserver.attributeName},"enumerable":!0,"configurable":!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{var t=this.delegate.parseValueForToken(e);return{"value":t}}catch(n){return{"error":n}}},e}(),U=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new L(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{"get":function(){return this.context.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"actionAttribute",{"get":function(){return this.schema.actionAttribute},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.context.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.bindingsByAction.values())},"enumerable":!0,"configurable":!0}),e.prototype.connectAction=function(e){var t=new P(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach(function(t){return e.delegate.bindingDisconnected(t)}),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=T.forToken(e);return t.identifier==this.identifier?t:void 0},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),q=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new U(this,this.dispatcher);try{this.controller.initialize()}catch(n){this.handleError(n,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{"get":function(){return this.module.application},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.module.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"dispatcher",{"get":function(){return this.application.dispatcher},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"parentElement",{"get":function(){return this.element.parentElement},"enumerable":!0,"configurable":!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var o=this,i=o.identifier,r=o.controller,a=o.element;n=Object.assign({"identifier":i,"controller":r,"element":a},n),this.application.handleError(e,"Error "+t,n)},e}(),R=void 0||function(){var e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{"constructor":{"value":t}}),Reflect.setPrototypeOf(t,e),t}function t(){var t=function(){this.a.call(this)},n=e(t);return n.prototype.a=function(){},new n}try{return t(),e}catch(n){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(e)}}}(),N=function(){function e(e,t){this.application=e,this.definition=h(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.definition.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"controllerConstructor",{"get":function(){return this.definition.controllerConstructor},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return Array.from(this.connectedContexts)},"enumerable":!0,"configurable":!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new q(this,e),this.contextsByScope.set(e,t)),t},e}(),B=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),e.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},e.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},e.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},e.prototype.delete=function(e){return this.has(e)?(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0):!1},e.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+m(e)},e}(),V=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.scope.schema},"enumerable":!0,"configurable":!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},e.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},e.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map(function(e){return t.getSelectorForTargetName(e)}).join(", ")},e.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return v(this.schema.targetAttribute,t)},e}(),H=function(){function e(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new V(this),this.data=new B(this)}return e.prototype.findElement=function(e){return this.findAllElements(e)[0]},e.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},e.prototype.filterElements=function(e){var t=this;return e.filter(function(e){return t.containsElement(e)})},e.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(e.prototype,"controllerSelector",{"get":function(){return v(this.schema.controllerAttribute,this.identifier)},"enumerable":!0,"configurable":!0}),e}(),W=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new L(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!0,"configurable":!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,o=this.fetchScopesByIdentifierForElement(t),i=o.get(n);return i||(i=new H(this.schema,n,t),o.set(n,i)),i},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),z=function(){function e(e){this.application=e,this.scopeObserver=new W(this.element,this.schema,this),this.scopesByIdentifier=new M,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.application.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"modules",{"get":function(){return Array.from(this.modulesByIdentifier.values())},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},"enumerable":!0,"configurable":!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new N(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);return n?n.contexts.find(function(t){return t.element==e}):void 0},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.connectContextForScope(t)})},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.disconnectContextForScope(t)})},e}(),G={"controllerAttribute":"data-controller","actionAttribute":"data-action","targetAttribute":"data-target"},J=void 0||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((o=o.apply(e,t||[])).next())})},K=void 0||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,r&&(a=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{"value":n[1],"done":!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(o){n=[6,o],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{"value":n[0]?n[1]:void 0,"done":!0}}var i,r,a,s,c={"label":0,"sent":function(){if(1&a[0])throw a[1];return a[1]},"trys":[],"ops":[]};return s={"next":n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},Y=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=G),this.element=e,this.schema=t,this.dispatcher=new E(this),this.router=new z(this)}return e.start=function(t,n){var o=new e(t,n);return o.start(),o},e.prototype.start=function(){return J(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},e.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},e.prototype.register=function(e,t){this.load({"identifier":e,"controllerConstructor":t})},e.prototype.load=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=Array.isArray(e)?e:[e].concat(n);i.forEach(function(e){return t.router.loadDefinition(e)})},e.prototype.unload=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=Array.isArray(e)?e:[e].concat(n);i.forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(e.prototype,"controllers",{"get":function(){return this.router.contexts.map(function(e){return e.controller})},"enumerable":!0,"configurable":!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},e}(),Q=function(){function e(e){this.context=e}return e.bless=function(){y(this)},Object.defineProperty(e.prototype,"application",{"get":function(){return this.context.application},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"targets",{"get":function(){return this.scope.targets},"enumerable":!0,"configurable":!0}),Object.defineProperty(e.prototype,"data",{"get":function(){return this.scope.data},"enumerable":!0,"configurable":!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.targets=[],e}();e.Application=Y,e.Context=q,e.Controller=Q,e.defaultSchema=G,Object.defineProperty(e,"__esModule",{"value":!0})}),function(){function e(){Stimulus.Controller.apply(this,arguments)}function t(t,n){var o=function(){e.apply(this,arguments)};o.prototype=Object.create(e.prototype,{"constructor":{"value":o,"enumerable":!1,"writable":!0}}),Object.setPrototypeOf(o,e);var i;for(var r in n)n.hasOwnProperty(r)&&("targets"===r?(i=n[r],Object.defineProperty(o,"targets",{"get":function(){return i},"enumerable":!1})):o.prototype[r]=n[r]);return o}var n=Stimulus.Application.start();window.Stacks=window.Stacks||Object.create(null),Stacks.controllers=Object.create(null),e.prototype=Object.create(Stimulus.Controller.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0}}),e.prototype.getElementData=function(e,t){return e.getAttribute("data-"+this.identifier+"-"+t)},e.prototype.setElementData=function(e,t,n){e.setAttribute("data-"+this.identifier+"-"+t,n)},e.prototype.removeElementData=function(e,t){e.removeAttribute("data-"+this.identifier+"-"+t)},Object.setPrototypeOf(e,Stimulus.Controller),Stacks.addController=function(e,o){if(!/^s-/.test(e))throw'Stacks-created Stimulus controller names must start with "s-".';var i=t(e,o);n.register(e,i),Stacks.controllers[e]=i}}(),function(){function e(e){return n(e)}function t(e){return n(e.parentElement.parentElement,e)}function n(e,t){for(var n=[],o=e.children[0],i=[],r=[];o||r.some(function(e){return e});){var a=[];n.push(a);var s=0;if(o)for(var c=0;c<o.children.length;c++){for(;r[s];)r[s]--,a[s]=i[s],s++;var l=o.children[c];if("none"!==getComputedStyle(l).display){if(l===t)return s;for(var u=s+l.colSpan;u>s;s++)r[s]=l.rowSpan-1,i[s]=l,a[s]=l}}for(;s<i.length;)r[s]&&(r[s]--,a[s]=i[s]),s++;o&&(o=o.nextElementSibling)}return t?-1:n}Stacks.addController("s-table",{"targets":["column"],"setCurrentSort":function(e,t){if(["asc","desc","none"].indexOf(t)<0)throw"direction must be one of asc, desc, or none";var n=this;this.columnTargets.forEach(function(o){var i=o===e;o.classList.toggle("is-sorted",i&&"none"!==t),o.querySelectorAll(".js-sorting-indicator").forEach(function(e){var n=i?t:"none";e.classList.toggle("d-none",!e.classList.contains("js-sorting-indicator-"+n))}),i&&"none"!==t?n.setElementData(o,"sort-direction",t):n.removeElementData(o,"sort-direction")})},"sort":function(n){var o=this,i=n.currentTarget,r=this.element,a=r.tBodies[0],s=t(i);if(!(0>s)){var c,l=e(a),u="asc"===this.getElementData(i,"sort-direction")?-1:1,d=Array.from(r.tBodies[0].rows),p=!1,f=[];d.forEach(function(e,t){var n=o.getElementData(e,"sort-to");if("top"!==n){if("bottom"===n)return c||(c=e),void 0;var i=l[t][s];if(!i)return f.push(["",t]),void 0;var r=o.getElementData(i,"sort-val"),a="string"==typeof r?r:i.textContent.trim();""!==a&&parseInt(a,10)+""!==a&&(p=!0),f.push([a,t])}}),p||f.forEach(function(e){e[0]=""===e[0]?Number.MIN_VALUE:parseInt(e[0],10)}),f.sort(function(e,t){return e[0]>t[0]?1*u:e[0]<t[0]?-1*u:e[1]>t[1]?1:-1}),f.forEach(function(e){var t=d[e[1]];t.parentElement.removeChild(t),c?a.insertBefore(t,c):a.appendChild(t)}),this.setCurrentSort(i,1===u?"asc":"desc")}}})}(),StackExchange.InlineAuth=function(){var e={"using_universal_ui":!1,"getSsrc":function(e){var t=$('#login-form input[name="ssrc"]'),n=void 0;return t&&1===t.length&&(n=t.val()),n||(n=e),n},"init":function(){var t=[],n=[],o=[],i=[],r=[],a=null,s=null,c=null,l=null;this.setOAuthInfo("","");var u=function(e,t,n){if(!StackExchange.options.isMobile)return StackExchange.helpers.showMessage(e,t,n);if(0===e.next(".form-error").length){var o=$('<div class="form-error">').append($('<div class="message-text">').html(t));return e.after(o),o}};$("#openid-buttons").on("click",".major-provider",function(t){var n=$(this).data("provider");if(n){var o=!1;StackExchange.using("gps",function(){StackExchange.gps.track("signup.start",{"openid_provider":n,"location":e.getSsrc("signup_inline"),"tid":StackExchange.options.user.tid},!0)}),o=!0,e.signin($(this),t,o)}});var d=$("#se-login-fields");$(d).on("keyup","input[name=inline-password],input[name=inline-display-name],input[name=inline-email]",function(e){var t=$(e.target);if(!t.data("entered")){var n="signup."+t.attr("name").replace("display-","")+".entered";t.data("entered",!0),StackExchange.using("gps",function(){StackExchange.gps.track(n,{},!0)})}}),$("#se-login-fields").on("click","input[name=submit-button]",function(){StackExchange.using("gps",function(){StackExchange.gps.track("signup.se.click",{},!0)})}),$(".js-terms").on("click","a[name=privacy],a[name=tos]",function(e){var t=$(e.target),n="signup."+t.attr("name")+".click";StackExchange.using("gps",function(){StackExchange.gps.track(n,{},!0)})});var p=null,f=null,h=$("input.js-inline-signup"),g=function(){if(0===h.val().length){var e=function(e){return e.pStart+"Password must contain at least eight characters, including:"+e.pEnd+" "+e.listStart+" "+e.itemStart+" letters "+e.itemEnd+" "+e.itemStart+" numbers "+e.itemEnd+" "+e.listEnd}({"pStart":"<p>","pEnd":"</p>","listStart":"<ul>","listEnd":"</ul>","itemStart":"<li>","itemEnd":"</li>"});j(n,{"id":"pw-requirements","index":-1,"attachTo":h,"message":e})}else E(n,"pw-requirements"),T(!0);for(var t=null,o=0;o<n.length;o++)if(t){var i=t.index,r=n[o].index;i>r&&(t=n[o])}else t=n[o];t?p&&f==t.attachTo?p.find(".message-text").html(t.message):(p&&(p.remove(),f=null),f=t.attachTo,p=u(f,t.message,{"position":w(f),"css":{"width":"250px;","color":"#fff"},"cssClass":"_black","closeOthers":!1,"dismissable":!1,"type":"info"}),t.popup&&t.popup.fadeOutAndRemove()):p&&(p.remove(),p=null,f=null)};$('input.js-inline-signup, input[name="password2"]').on("keyup focus paste",g),$('input[name="submit-button"]').click(function(){p&&(p.remove(),p=null,f=null)});var m=$('<div class="caps-lock-warning"></div>').text("Caps lock is on"),v=$("input.js-inline-signup"),b=!1;v.keypress(function(e){var t=String.fromCharCode(e.which),n=/[a-z]/i.test(t);if(n){var o=t==t.toUpperCase();b=o&&!e.shiftKey}var i=document.msCapsLockWarningOff===!1,r=i;b&&!r?v.after(m):m.remove()}),v.blur(function(){m.remove()});var y=!1;$("#login-form input").blur(function(t){""==$(t.target).val()||y||(StackExchange.gps.track("signup.start",{"openid_provider":"Stack Exchange","location":e.getSsrc("signup_inline"),"tid":StackExchange.options.user.tid},!0),y=!0)}),$("#login-form input[type='text'], #login-form input[type='password'], #login-form input[type='email']").keypress(function(e){return 13===e.which?($("#submit-button").is(":hidden")?$("#login-form").submit():$("#login-form input[name='submit-button']").click(),e.preventDefault(),!1):void 0});var k=function(e,t){if(e.length>0){if(null!=t){for(var n=!0,o=0;o<e.length;o++)if(e[o].message==t.message){n=!1;break}e[0].changed=n}return e[0]}return null!=t&&t.popup&&t.popup.fadeOutAndRemove(),null},w=function(e){return{"my":e.data("error-my")||"left top","at":e.data("error-at")||"right center"}},x=function(e){null!=e&&(e.popup||(e.popup=u(e.attachTo,e.message,{"position":w(e.attachTo),"css":{"width":"120px;","color":"#fff"},"closeOthers":!1,"dismissable":!1})),e.changed&&(r.push(e.popup),e.popup=u(e.attachTo,e.message,{"position":w(e.attachTo),"css":{"width":"120px;","color":"#fff"},"closeOthers":!1,"dismissable":!1})))},S=function(){for(var e=0;e<r.length;e++)r[e]&&r[e].fadeOutAndRemove();r=[]},C=function(){x(a),x(s),x(l),x(c),setTimeout(S,StackExchange.options.isMobile?2e3:200)},E=function(e,t){for(var n="all"===t,o=0;o<e.length&&(e[o].id!=t&&!n||(e[o].popup&&r.push(e[o].popup),e.splice(o,1),n));o++);};this.removeAllErrors=function(){E(t,"all"),E(n,"all"),E(o,"all"),E(i,"all"),StackExchange.helpers.removeMessages(),StackExchange.options.isMobile&&$(".form-error").remove()};var j=StackExchange.Auth.addOrUpdateError,T=function(e){var t=$("input[name = 'inline-password']"),o=0===$.trim(t.val()).length;o&&!e?j(n,{"id":"pw-empty","index":0,"attachTo":t,"message":"Password cannot be empty."}):E(n,"pw-empty"),StackExchange.Auth.passwordStrengthValidation(t,n,E)},O=function(){var e=$("input[name='inline-email']"),n=0===$.trim(e.val()).length;n?j(t,{"id":"em-empty","index":0,"attachTo":e,"message":"Email cannot be empty."}):E(t,"em-empty")},P=function(){var e=$("#no-captcha-here iframe").length>0;if(e){var t=grecaptcha.getResponse().length>0;t?E(i,"cp"):j(i,{"id":"cp","index":0,"attachTo":$("#no-captcha-here"),"message":"CAPTCHA response required."})}},A=function(){var e=$.trim($("input[name='inline-email']").val()).toUpperCase(),t=$("input[name='inline-display-name']"),n=$.trim(t.val()).toUpperCase();e===n&&""!=e?j(o,{"id":"nm","index":0,"attachTo":t,"message":"Name and email address must be different. If you don't want to enter a name, just leave it blank.","faileType":"name_email_same"}):E(o,"nm")},I=function(){return T(),A(),P(),O(),a=k(t,a),s=k(n,s),c=k(o,c),l=k(i,l),null==a&&null==s&&null==c&&null==l},M=!0;$("#login-form input[name='submit-button']").click(function(){var e={"isSignup":!0};$("#login-form input").each(function(t,n){var o=$(n).attr("name");o&&(o=o.replace(/(\W|_)/gi,""),e[o]=$(n).val())}),$.ajax({"url":"/users/login-or-signup/validation/track","data":e,"type":"POST","complete":function(){var e=I();return M&&($("#login-form input").blur(function(){I();var e=$("#login-form input[name='inline-email']"),n=$.trim(e.val());E(t,"em-ajax"),$.ajax({"type":"POST","url":"/users/signup/email/validate","data":{"email":n},"success":function(n){n.IsValid?a=null:(j(t,{"id":"em-ajax","index":1,"attachTo":e,"message":n.ErrorMessage}),a=k(t,a))},"complete":function(){C()}})}),M=!1),e?($("#login-form").submit(),void 0):(C(),void 0)}})})},"removeAllErrors":function(){},"signin":function(t,n,o){function i(t,n){var o="signup_inline";n||StackExchange.using("gps",function(){StackExchange.gps.track("signup.start",{"openid_provider":t,"location":e.getSsrc(o),"tid":StackExchange.options.user.tid},!0)}),t&&(StackExchange.using("gps",function(){StackExchange.gps.track("signup.openid.click",{"openid_provider":t,"location":o},!0)}),StackExchange.using("gps",function(){StackExchange.gps.track("openid.click",{"openid_provider":t,"location":o},!0)}))}function r(e){var t={"name":e.data("provider")};return e.data("oauthserver")&&(t.oauth_server=e.data("oauthserver")),e.data("oauthversion")&&(t.oauth_version=e.attr("data-oauthversion")),t}var a=t.data?r(t):t;a&&(i(a.name.replace(/_/g," "),o),"2.0"===a.oauth_version&&this.setOAuthInfo(a.oauth_version,a.oauth_server),$("#login-form").submit())},"setOAuthInfo":function(e,t){$("#oauth_version").val(e),$("#oauth_server").val(t)}};return{"init":function(){e.init()}}}();